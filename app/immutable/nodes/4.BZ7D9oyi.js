import{s as ge,n as X,d as ve,c as ue,g as Fe}from"../chunks/scheduler.7ddvVGuS.js";import{S as ye,i as we,g as u,m as A,s as E,h as d,j as h,n as L,f as i,c as j,C as De,k as _,a as $,x as o,o as W,l as se,A as Ee,e as ee,z as Ce,r as pe,u as me,v as be,t as ce,b as Ze,d as fe,w as ke,p as Je}from"../chunks/index.XmLGRVaW.js";import{$ as je,P as Pe,C as Ue,e as de,d as Qe,S as ne,Z as ze}from"../chunks/apis.W9dsQ1rZ.js";import{s as Se,a as Ie}from"../chunks/status_warning.C_r86Sei.js";import{s as Ve}from"../chunks/status_error.K3rrPbxW.js";import{a as Ke}from"../chunks/units.vVRppVb4.js";import{p as Ge}from"../chunks/stores.BkYfuQvk.js";import{p as Ae}from"../chunks/navigation.DbLLw-XM.js";function Xe(a){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),h(e).forEach(i),this.h()},h(){_(e,"class","textPlaceholder"),se(e,"width","110px")},m(t,l){$(t,e,l)},p:X,d(t){t&&i(e)}}}function Ye(a){let e,t;return{c(){e=u("p"),t=A(a[4])},l(l){e=d(l,"P",{});var s=h(e);t=L(s,a[4]),s.forEach(i)},m(l,s){$(l,e,s),o(e,t)},p(l,s){s&16&&W(t,l[4])},d(l){l&&i(e)}}}function xe(a){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),h(e).forEach(i),this.h()},h(){_(e,"class","statusPlaceholder svelte-1jvb0es")},m(t,l){$(t,e,l)},p:X,d(t){t&&i(e)}}}function et(a){let e,t;return{c(){e=u("img"),this.h()},l(l){e=d(l,"IMG",{src:!0,alt:!0}),this.h()},h(){ue(e.src,t=a[1])||_(e,"src",t),_(e,"alt","Status")},m(l,s){$(l,e,s)},p(l,s){s&2&&!ue(e.src,t=l[1])&&_(e,"src",t)},d(l){l&&i(e)}}}function tt(a){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),h(e).forEach(i),this.h()},h(){_(e,"class","statusPlaceholder svelte-1jvb0es")},m(t,l){$(t,e,l)},p:X,d(t){t&&i(e)}}}function lt(a){let e,t,l;return{c(){e=u("img"),this.h()},l(s){e=d(s,"IMG",{src:!0,alt:!0,title:!0}),this.h()},h(){ue(e.src,t=a[2])||_(e,"src",t),_(e,"alt","Status"),_(e,"title",l=a[5]?`Gas: ${Math.round(a[5]).toLocaleString("en-US")} Gwei`:"")},m(s,r){$(s,e,r)},p(s,r){r&4&&!ue(e.src,t=s[2])&&_(e,"src",t),r&32&&l!==(l=s[5]?`Gas: ${Math.round(s[5]).toLocaleString("en-US")} Gwei`:"")&&_(e,"title",l)},d(s){s&&i(e)}}}function st(a){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),h(e).forEach(i),this.h()},h(){_(e,"class","statusPlaceholder svelte-1jvb0es")},m(t,l){$(t,e,l)},p:X,d(t){t&&i(e)}}}function rt(a){let e,t;return{c(){e=u("img"),this.h()},l(l){e=d(l,"IMG",{src:!0,alt:!0}),this.h()},h(){ue(e.src,t=a[3])||_(e,"src",t),_(e,"alt","Status")},m(l,s){$(l,e,s)},p(l,s){s&8&&!ue(e.src,t=l[3])&&_(e,"src",t)},d(l){l&&i(e)}}}function at(a){let e,t,l,s=a[0]("widget.status.title")+"",r,n,c,f,p,m,V,g,I="Cosmo:",b,v,k,D,C,S,N="Polygon:",M,K,F,Y,Z,Q,te="Nova:",J;function H(y,q){return y[1]&&y[2]&&y[3]?Ye:Xe}let P=H(a),U=P(a);function G(y,q){return y[1]?et:xe}let re=G(a),T=re(a);function B(y,q){return y[2]?lt:tt}let x=B(a),O=x(a);function R(y,q){return y[3]?rt:st}let w=R(a),z=w(a);return{c(){e=u("div"),t=u("div"),l=u("b"),r=A(s),n=E(),U.c(),c=E(),f=u("hr"),p=E(),m=u("div"),V=u("div"),g=u("p"),g.textContent=I,b=E(),T.c(),v=E(),k=u("hr"),D=E(),C=u("div"),S=u("p"),S.textContent=N,M=E(),O.c(),K=E(),F=u("hr"),Y=E(),Z=u("div"),Q=u("p"),Q.textContent=te,J=E(),z.c(),this.h()},l(y){e=d(y,"DIV",{class:!0});var q=h(e);t=d(q,"DIV",{class:!0});var ae=h(t);l=d(ae,"B",{});var oe=h(l);r=L(oe,s),oe.forEach(i),n=j(ae),U.l(ae),ae.forEach(i),c=j(q),f=d(q,"HR",{}),p=j(q),m=d(q,"DIV",{class:!0});var le=h(m);V=d(le,"DIV",{class:!0});var _e=h(V);g=d(_e,"P",{class:!0,"data-svelte-h":!0}),De(g)!=="svelte-26le49"&&(g.textContent=I),b=j(_e),T.l(_e),_e.forEach(i),v=j(le),k=d(le,"HR",{}),D=j(le),C=d(le,"DIV",{class:!0});var ie=h(C);S=d(ie,"P",{class:!0,"data-svelte-h":!0}),De(S)!=="svelte-10he4ig"&&(S.textContent=N),M=j(ie),O.l(ie),ie.forEach(i),K=j(le),F=d(le,"HR",{}),Y=j(le),Z=d(le,"DIV",{class:!0});var he=h(Z);Q=d(he,"P",{class:!0,"data-svelte-h":!0}),De(Q)!=="svelte-4bipqc"&&(Q.textContent=te),J=j(he),z.l(he),he.forEach(i),le.forEach(i),q.forEach(i),this.h()},h(){_(t,"class","header"),_(g,"class","svelte-1jvb0es"),_(V,"class","item svelte-1jvb0es"),_(S,"class","svelte-1jvb0es"),_(C,"class","item svelte-1jvb0es"),_(Q,"class","svelte-1jvb0es"),_(Z,"class","item svelte-1jvb0es"),_(m,"class","content svelte-1jvb0es"),_(e,"class","widget svelte-1jvb0es")},m(y,q){$(y,e,q),o(e,t),o(t,l),o(l,r),o(t,n),U.m(t,null),o(e,c),o(e,f),o(e,p),o(e,m),o(m,V),o(V,g),o(V,b),T.m(V,null),o(m,v),o(m,k),o(m,D),o(m,C),o(C,S),o(C,M),O.m(C,null),o(m,K),o(m,F),o(m,Y),o(m,Z),o(Z,Q),o(Z,J),z.m(Z,null)},p(y,[q]){q&1&&s!==(s=y[0]("widget.status.title")+"")&&W(r,s),P===(P=H(y))&&U?U.p(y,q):(U.d(1),U=P(y),U&&(U.c(),U.m(t,null))),re===(re=G(y))&&T?T.p(y,q):(T.d(1),T=re(y),T&&(T.c(),T.m(V,null))),x===(x=B(y))&&O?O.p(y,q):(O.d(1),O=x(y),O&&(O.c(),O.m(C,null))),w===(w=R(y))&&z?z.p(y,q):(z.d(1),z=w(y),z&&(z.c(),z.m(Z,null)))},i:X,o:X,d(y){y&&i(e),U.d(),T.d(),O.d(),z.d()}}}function nt(a,e,t){let l;ve(a,je,g=>t(0,l=g));let{data:s}=e,r,n,c,f=l("widget.status.no_errors"),p;async function m(){try{if(!await(await fetch(Ue.URL)).json())throw new Error;t(1,r=Ie)}catch{t(1,r=Ve),t(4,f=l("widget.status.cosmo_unreachable"))}}async function V(){try{const g=await Pe.RPC.getFeeData();t(5,p=Number(Ke(g.gasPrice,"gwei"))),p>400?(t(2,n=Se),t(4,f=l("widget.status.blockchain_congested"))):t(2,n=Ie)}catch{t(2,n=Ve),t(4,f=l("widget.status.blockchain_unreachable"))}}return m(),V(),a.$$set=g=>{"data"in g&&t(6,s=g.data)},a.$$.update=()=>{a.$$.dirty&65&&s&&(s.data?Pe.RPC.getBlockNumber().then(g=>{s.data.squidStatus.height<g-3800?(t(3,c=Se),t(4,f=l("widget.status.db_unsynced"))):t(3,c=Ie)}):(t(3,c=Ve),t(4,f=l("widget.status.db_unreachable"))))},[l,r,n,c,f,p,s]}class ot extends ye{constructor(e){super(),we(this,e,nt,at,ge,{data:6})}}function Me(a,e,t){const l=a.slice();return l[4]=e[t],l[6]=t,l}function it(a){const e=a.slice(),t=Object.keys(e[0].data).filter(l=>l.startsWith("day")).reduce((l,s)=>e[0].data[s].totalCount>l?e[0].data[s].totalCount:l,0);return e[7]=t,e}function ct(a){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),h(e).forEach(i),this.h()},h(){_(e,"class","textPlaceholder"),se(e,"width","100px")},m(t,l){$(t,e,l)},p:X,d(t){t&&i(e)}}}function ft(a){let e,t=a[1]("widget.objektsupply.total",{values:{number:a[2](a[0].data.objektsConnection.totalCount)}})+"",l;return{c(){e=u("p"),l=A(t)},l(s){e=d(s,"P",{});var r=h(e);l=L(r,t),r.forEach(i)},m(s,r){$(s,e,r),o(e,l)},p(s,r){r&7&&t!==(t=s[1]("widget.objektsupply.total",{values:{number:s[2](s[0].data.objektsConnection.totalCount)}})+"")&&W(l,t)},d(s){s&&i(e)}}}function ut(a){let e,t=`${Math.random()*90+10}px`,l,s;return{c(){e=u("div"),l=E(),s=u("div"),this.h()},l(r){e=d(r,"DIV",{class:!0}),h(e).forEach(i),l=j(r),s=d(r,"DIV",{class:!0}),h(s).forEach(i),this.h()},h(){_(e,"class","barPlaceholder svelte-7niz5t"),se(e,"height",t),_(s,"class","textPlaceholder"),se(s,"width","25px")},m(r,n){$(r,e,n),$(r,l,n),$(r,s,n)},p:X,d(r){r&&(i(e),i(l),i(s))}}}function Oe(a){let e,t,l=`${a[0].data[`day${a[6]+1}`].totalCount/a[7]*100}px`,s,r,n=new Intl.DateTimeFormat(void 0,{weekday:"short"}).format(new Date().setDate(new Date().getDate()+a[6]+1))+"",c;return{c(){e=u("div"),s=E(),r=u("p"),c=A(n),this.h()},l(f){e=d(f,"DIV",{class:!0,title:!0}),h(e).forEach(i),s=j(f),r=d(f,"P",{class:!0});var p=h(r);c=L(p,n),p.forEach(i),this.h()},h(){_(e,"class","bar svelte-7niz5t"),_(e,"title",t=a[0].data[`day${a[6]+1}`].totalCount.toLocaleString("en-US")+" Objekts"),se(e,"height",l),_(r,"class","svelte-7niz5t")},m(f,p){$(f,e,p),$(f,s,p),$(f,r,p),o(r,c)},p(f,p){p&1&&t!==(t=f[0].data[`day${f[6]+1}`].totalCount.toLocaleString("en-US")+" Objekts")&&_(e,"title",t),p&1&&l!==(l=`${f[0].data[`day${f[6]+1}`].totalCount/f[7]*100}px`)&&se(e,"height",l)},d(f){f&&(i(e),i(s),i(r))}}}function Re(a){let e,t;function l(c,f){return c[0]&&c[0].data?Oe:ut}function s(c,f){return f===Oe?it(c):c}let r=l(a),n=r(s(a,r));return{c(){e=u("div"),n.c(),t=E(),this.h()},l(c){e=d(c,"DIV",{class:!0});var f=h(e);n.l(f),t=j(f),f.forEach(i),this.h()},h(){_(e,"class","day svelte-7niz5t")},m(c,f){$(c,e,f),n.m(e,null),o(e,t)},p(c,f){r===(r=l(c))&&n?n.p(s(c,r),f):(n.d(1),n=r(s(c,r)),n&&(n.c(),n.m(e,t)))},d(c){c&&i(e),n.d()}}}function dt(a){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),h(e).forEach(i),this.h()},h(){_(e,"class","textPlaceholder"),se(e,"width","50px")},m(t,l){$(t,e,l)},p:X,d(t){t&&i(e)}}}function _t(a){let e,t=a[2](Object.keys(a[0].data).filter(qe).reduce(a[3],0))+"",l;return{c(){e=u("p"),l=A(t)},l(s){e=d(s,"P",{});var r=h(e);l=L(r,t),r.forEach(i)},m(s,r){$(s,e,r),o(e,l)},p(s,r){r&5&&t!==(t=s[2](Object.keys(s[0].data).filter(qe).reduce(s[3],0))+"")&&W(l,t)},d(s){s&&i(e)}}}function ht(a){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),h(e).forEach(i),this.h()},h(){_(e,"class","textPlaceholder"),se(e,"width","40px")},m(t,l){$(t,e,l)},p:X,d(t){t&&i(e)}}}function vt(a){let e,t=a[2](a[0].data.day7.totalCount)+"",l;return{c(){e=u("p"),l=A(t)},l(s){e=d(s,"P",{});var r=h(e);l=L(r,t),r.forEach(i)},m(s,r){$(s,e,r),o(e,l)},p(s,r){r&5&&t!==(t=s[2](s[0].data.day7.totalCount)+"")&&W(l,t)},d(s){s&&i(e)}}}function pt(a){let e,t,l,s=a[1]("widget.objektsupply.title")+"",r,n,c,f,p,m,V,g,I,b,v,k,D=a[1]("widget.objektsupply.weekly_supply")+"",C,S,N,M,K,F,Y,Z=a[1]("widget.objektsupply.daily_supply")+"",Q,te;function J(w,z){return w[0]&&w[0].data?ft:ct}let H=J(a),P=H(a),U=de({length:7}),G=[];for(let w=0;w<U.length;w+=1)G[w]=Re(Me(a,U,w));function re(w,z){return w[0]&&w[0].data?_t:dt}let T=re(a),B=T(a);function x(w,z){return w[0]&&w[0].data?vt:ht}let O=x(a),R=O(a);return{c(){e=u("div"),t=u("div"),l=u("b"),r=A(s),n=E(),P.c(),c=E(),f=u("hr"),p=E(),m=u("div");for(let w=0;w<G.length;w+=1)G[w].c();V=E(),g=u("hr"),I=E(),b=u("div"),v=u("div"),k=u("b"),C=A(D),S=E(),B.c(),N=E(),M=u("hr"),K=E(),F=u("div"),Y=u("b"),Q=A(Z),te=E(),R.c(),this.h()},l(w){e=d(w,"DIV",{class:!0});var z=h(e);t=d(z,"DIV",{class:!0});var y=h(t);l=d(y,"B",{});var q=h(l);r=L(q,s),q.forEach(i),n=j(y),P.l(y),y.forEach(i),c=j(z),f=d(z,"HR",{}),p=j(z),m=d(z,"DIV",{class:!0});var ae=h(m);for(let $e=0;$e<G.length;$e+=1)G[$e].l(ae);ae.forEach(i),V=j(z),g=d(z,"HR",{}),I=j(z),b=d(z,"DIV",{class:!0});var oe=h(b);v=d(oe,"DIV",{class:!0});var le=h(v);k=d(le,"B",{class:!0});var _e=h(k);C=L(_e,D),_e.forEach(i),S=j(le),B.l(le),le.forEach(i),N=j(oe),M=d(oe,"HR",{class:!0}),K=j(oe),F=d(oe,"DIV",{class:!0});var ie=h(F);Y=d(ie,"B",{class:!0});var he=h(Y);Q=L(he,Z),he.forEach(i),te=j(ie),R.l(ie),ie.forEach(i),oe.forEach(i),z.forEach(i),this.h()},h(){_(t,"class","header"),_(m,"class","graph svelte-7niz5t"),_(k,"class","svelte-7niz5t"),_(v,"class","svelte-7niz5t"),_(M,"class","svelte-7niz5t"),_(Y,"class","svelte-7niz5t"),_(F,"class","svelte-7niz5t"),_(b,"class","details svelte-7niz5t"),_(e,"class","widget svelte-7niz5t")},m(w,z){$(w,e,z),o(e,t),o(t,l),o(l,r),o(t,n),P.m(t,null),o(e,c),o(e,f),o(e,p),o(e,m);for(let y=0;y<G.length;y+=1)G[y]&&G[y].m(m,null);o(e,V),o(e,g),o(e,I),o(e,b),o(b,v),o(v,k),o(k,C),o(v,S),B.m(v,null),o(b,N),o(b,M),o(b,K),o(b,F),o(F,Y),o(Y,Q),o(F,te),R.m(F,null)},p(w,[z]){if(z&2&&s!==(s=w[1]("widget.objektsupply.title")+"")&&W(r,s),H===(H=J(w))&&P?P.p(w,z):(P.d(1),P=H(w),P&&(P.c(),P.m(t,null))),z&1){U=de({length:7});let y;for(y=0;y<U.length;y+=1){const q=Me(w,U,y);G[y]?G[y].p(q,z):(G[y]=Re(q),G[y].c(),G[y].m(m,null))}for(;y<G.length;y+=1)G[y].d(1);G.length=U.length}z&2&&D!==(D=w[1]("widget.objektsupply.weekly_supply")+"")&&W(C,D),T===(T=re(w))&&B?B.p(w,z):(B.d(1),B=T(w),B&&(B.c(),B.m(v,null))),z&2&&Z!==(Z=w[1]("widget.objektsupply.daily_supply")+"")&&W(Q,Z),O===(O=x(w))&&R?R.p(w,z):(R.d(1),R=O(w),R&&(R.c(),R.m(F,null)))},i:X,o:X,d(w){w&&i(e),P.d(),Ee(G,w),B.d(),R.d()}}}const qe=a=>a.startsWith("day");function mt(a,e,t){let l,s;ve(a,je,c=>t(1,l=c)),ve(a,Qe,c=>t(2,s=c));let{data:r}=e;const n=(c,f)=>c+r.data[f].totalCount;return a.$$set=c=>{"data"in c&&t(0,r=c.data)},[r,l,s,n]}class Le extends ye{constructor(e){super(),we(this,e,mt,pt,ge,{data:0})}}function bt(a,e,t){const l=a.slice();return l[8]=e[t],l[7]=t,l}function He(a,e,t){const l=a.slice();l[4]=e[t],l[7]=t;const s=(Date.now()-l[4].node.minted)/1e3;return l[5]=s,l}function kt(a){let e,t=de({length:10}),l=[];for(let s=0;s<t.length;s+=1)l[s]=wt(bt(a,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ee()},m(s,r){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,r);$(s,e,r)},p:X,d(s){s&&i(e),Ee(l,s)}}}function gt(a){let e,t=de(a[0].data.mints.edges),l=[];for(let s=0;s<t.length;s+=1)l[s]=Be(He(a,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ee()},m(s,r){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,r);$(s,e,r)},p(s,r){if(r&7){t=de(s[0].data.mints.edges);let n;for(n=0;n<t.length;n+=1){const c=He(s,t,n);l[n]?l[n].p(c,r):(l[n]=Be(c),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){s&&i(e),Ee(l,s)}}}function yt(a){let e;return{c(){e=u("hr")},l(t){e=d(t,"HR",{})},m(t,l){$(t,e,l)},d(t){t&&i(e)}}}function wt(a){let e,t,l,s,r,n,c=a[7]<9&&yt();return{c(){e=u("div"),t=u("div"),l=E(),s=u("div"),r=E(),c&&c.c(),n=ee(),this.h()},l(f){e=d(f,"DIV",{class:!0});var p=h(e);t=d(p,"DIV",{class:!0}),h(t).forEach(i),l=j(p),s=d(p,"DIV",{class:!0}),h(s).forEach(i),p.forEach(i),r=j(f),c&&c.l(f),n=ee(),this.h()},h(){_(t,"class","textPlaceholder objektPlaceholder svelte-qlgcge"),se(t,"width","140px"),_(s,"class","textPlaceholder"),se(s,"width","100px"),_(e,"class","objekt svelte-qlgcge")},m(f,p){$(f,e,p),o(e,t),o(e,l),o(e,s),$(f,r,p),c&&c.m(f,p),$(f,n,p)},p:X,d(f){f&&(i(e),i(r),i(n)),c&&c.d(f)}}}function Et(a){let e,t=a[1]("general.hours_past",{values:{hours:Math.floor(a[5]/3600)}})+"",l;return{c(){e=u("p"),l=A(t)},l(s){e=d(s,"P",{});var r=h(e);l=L(r,t),r.forEach(i)},m(s,r){$(s,e,r),o(e,l)},p(s,r){r&3&&t!==(t=s[1]("general.hours_past",{values:{hours:Math.floor(s[5]/3600)}})+"")&&W(l,t)},d(s){s&&i(e)}}}function jt(a){let e,t=a[1]("general.minutes_past",{values:{minutes:Math.floor(a[5]/60)}})+"",l;return{c(){e=u("p"),l=A(t)},l(s){e=d(s,"P",{});var r=h(e);l=L(r,t),r.forEach(i)},m(s,r){$(s,e,r),o(e,l)},p(s,r){r&3&&t!==(t=s[1]("general.minutes_past",{values:{minutes:Math.floor(s[5]/60)}})+"")&&W(l,t)},d(s){s&&i(e)}}}function $t(a){let e,t=a[1]("general.seconds_past",{values:{seconds:Math.floor(a[5])}})+"",l;return{c(){e=u("p"),l=A(t)},l(s){e=d(s,"P",{});var r=h(e);l=L(r,t),r.forEach(i)},m(s,r){$(s,e,r),o(e,l)},p(s,r){r&3&&t!==(t=s[1]("general.seconds_past",{values:{seconds:Math.floor(s[5])}})+"")&&W(l,t)},d(s){s&&i(e)}}}function Dt(a){let e;return{c(){e=u("hr")},l(t){e=d(t,"HR",{})},m(t,l){$(t,e,l)},d(t){t&&i(e)}}}function Be(a){let e,t,l=ne.formatObjekt(a[4].node.collection,a[4].node)+"",s,r,n,c,f,p;function m(){return a[3](a[4])}function V(v,k){return v[5]<60?$t:v[5]<3600?jt:Et}let g=V(a),I=g(a),b=a[7]<9&&Dt();return{c(){e=u("div"),t=u("button"),s=A(l),r=E(),I.c(),n=E(),b&&b.c(),c=ee(),this.h()},l(v){e=d(v,"DIV",{class:!0});var k=h(e);t=d(k,"BUTTON",{class:!0});var D=h(t);s=L(D,l),D.forEach(i),r=j(k),I.l(k),k.forEach(i),n=j(v),b&&b.l(v),c=ee(),this.h()},h(){_(t,"class","svelte-qlgcge"),_(e,"class","objekt svelte-qlgcge")},m(v,k){$(v,e,k),o(e,t),o(t,s),o(e,r),I.m(e,null),$(v,n,k),b&&b.m(v,k),$(v,c,k),f||(p=Ce(t,"click",m),f=!0)},p(v,k){a=v,k&1&&l!==(l=ne.formatObjekt(a[4].node.collection,a[4].node)+"")&&W(s,l),g===(g=V(a))&&I?I.p(a,k):(I.d(1),I=g(a),I&&(I.c(),I.m(e,null)))},d(v){v&&(i(e),i(n),i(c)),I.d(),b&&b.d(v),f=!1,p()}}}function It(a){let e,t,l,s=a[1]("widget.mints.title")+"",r,n,c,f=a[1]("widget.mints.subtitle")+"",p,m,V,g;function I(k,D){return k[0]&&k[0].data?gt:kt}let b=I(a),v=b(a);return{c(){e=u("div"),t=u("div"),l=u("b"),r=A(s),n=E(),c=u("p"),p=A(f),m=E(),V=u("hr"),g=E(),v.c(),this.h()},l(k){e=d(k,"DIV",{class:!0});var D=h(e);t=d(D,"DIV",{class:!0});var C=h(t);l=d(C,"B",{});var S=h(l);r=L(S,s),S.forEach(i),n=j(C),c=d(C,"P",{});var N=h(c);p=L(N,f),N.forEach(i),C.forEach(i),m=j(D),V=d(D,"HR",{}),g=j(D),v.l(D),D.forEach(i),this.h()},h(){_(t,"class","header"),_(e,"class","widget svelte-qlgcge")},m(k,D){$(k,e,D),o(e,t),o(t,l),o(l,r),o(t,n),o(t,c),o(c,p),o(e,m),o(e,V),o(e,g),v.m(e,null)},p(k,[D]){D&2&&s!==(s=k[1]("widget.mints.title")+"")&&W(r,s),D&2&&f!==(f=k[1]("widget.mints.subtitle")+"")&&W(p,f),b===(b=I(k))&&v?v.p(k,D):(v.d(1),v=b(k),v&&(v.c(),v.m(e,null)))},i:X,o:X,d(k){k&&i(e),v.d()}}}function Vt(a,e,t){let l,s;ve(a,je,c=>t(1,l=c)),ve(a,Ge,c=>t(2,s=c));let{data:r}=e;const n=c=>Ae(`/objekt/${c.node.collection.id}/${c.node.serial}`,{collection:c.node.collection,objekt:c.node,previous:s.url.href});return a.$$set=c=>{"data"in c&&t(0,r=c.data)},[r,l,s,n]}class We extends ye{constructor(e){super(),we(this,e,Vt,It,ge,{data:0})}}function Ct(a,e,t){const l=a.slice();return l[13]=e[t],l[12]=t,l}function Te(a,e,t){const l=a.slice();l[7]=e[t],l[12]=t;const s=(Date.now()-l[7].node.timestamp)/1e3;l[8]=s;const r=l[1].find(function(...f){return a[5](l[7],...f)});l[9]=r;const n=l[1].find(function(...f){return a[6](l[7],...f)});return l[10]=n,l}function Pt(a){let e,t=de({length:5}),l=[];for(let s=0;s<t.length;s+=1)l[s]=Mt(Ct(a,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ee()},m(s,r){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,r);$(s,e,r)},p:X,d(s){s&&i(e),Ee(l,s)}}}function zt(a){let e,t=de(a[0].data.transfersConnection.edges),l=[];for(let s=0;s<t.length;s+=1)l[s]=Ne(Te(a,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ee()},m(s,r){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,r);$(s,e,r)},p(s,r){if(r&15){t=de(s[0].data.transfersConnection.edges);let n;for(n=0;n<t.length;n+=1){const c=Te(s,t,n);l[n]?l[n].p(c,r):(l[n]=Ne(c),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){s&&i(e),Ee(l,s)}}}function St(a){let e;return{c(){e=u("hr")},l(t){e=d(t,"HR",{})},m(t,l){$(t,e,l)},d(t){t&&i(e)}}}function Mt(a){let e,t,l,s,r,n,c,f,p,m,V,g,I,b,v,k,D=a[12]<4&&St();return{c(){e=u("div"),t=u("div"),l=u("div"),s=E(),r=u("div"),n=E(),c=u("div"),f=E(),p=u("div"),m=u("div"),V=E(),g=u("div"),I=E(),b=u("div"),v=E(),D&&D.c(),k=ee(),this.h()},l(C){e=d(C,"DIV",{class:!0});var S=h(e);t=d(S,"DIV",{class:!0});var N=h(t);l=d(N,"DIV",{class:!0}),h(l).forEach(i),s=j(N),r=d(N,"DIV",{class:!0}),h(r).forEach(i),n=j(N),c=d(N,"DIV",{class:!0}),h(c).forEach(i),N.forEach(i),f=j(S),p=d(S,"DIV",{class:!0});var M=h(p);m=d(M,"DIV",{class:!0}),h(m).forEach(i),V=j(M),g=d(M,"DIV",{class:!0}),h(g).forEach(i),I=j(M),b=d(M,"DIV",{class:!0}),h(b).forEach(i),M.forEach(i),S.forEach(i),v=j(C),D&&D.l(C),k=ee(),this.h()},h(){_(l,"class","textPlaceholder"),se(l,"width","120px"),_(r,"class","spacer svelte-hdzhr2"),_(c,"class","textPlaceholder"),se(c,"width","120px"),_(t,"class","users svelte-hdzhr2"),_(m,"class","textPlaceholder"),se(m,"width","140px"),_(g,"class","spacer svelte-hdzhr2"),_(b,"class","textPlaceholder"),se(b,"width","100px"),_(p,"class","objekt svelte-hdzhr2"),_(e,"class","transfer svelte-hdzhr2")},m(C,S){$(C,e,S),o(e,t),o(t,l),o(t,s),o(t,r),o(t,n),o(t,c),o(e,f),o(e,p),o(p,m),o(p,V),o(p,g),o(p,I),o(p,b),$(C,v,S),D&&D.m(C,S),$(C,k,S)},p:X,d(C){C&&(i(e),i(v),i(k)),D&&D.d(C)}}}function Ot(a){let e,t=a[2]("general.hours_past",{values:{hours:Math.floor(a[8]/3600)}})+"",l;return{c(){e=u("p"),l=A(t)},l(s){e=d(s,"P",{});var r=h(e);l=L(r,t),r.forEach(i)},m(s,r){$(s,e,r),o(e,l)},p(s,r){r&5&&t!==(t=s[2]("general.hours_past",{values:{hours:Math.floor(s[8]/3600)}})+"")&&W(l,t)},d(s){s&&i(e)}}}function Rt(a){let e,t=a[2]("general.minutes_past",{values:{minutes:Math.floor(a[8]/60)}})+"",l;return{c(){e=u("p"),l=A(t)},l(s){e=d(s,"P",{});var r=h(e);l=L(r,t),r.forEach(i)},m(s,r){$(s,e,r),o(e,l)},p(s,r){r&5&&t!==(t=s[2]("general.minutes_past",{values:{minutes:Math.floor(s[8]/60)}})+"")&&W(l,t)},d(s){s&&i(e)}}}function qt(a){let e,t=a[2]("general.seconds_past",{values:{seconds:Math.floor(a[8])}})+"",l;return{c(){e=u("p"),l=A(t)},l(s){e=d(s,"P",{});var r=h(e);l=L(r,t),r.forEach(i)},m(s,r){$(s,e,r),o(e,l)},p(s,r){r&5&&t!==(t=s[2]("general.seconds_past",{values:{seconds:Math.floor(s[8])}})+"")&&W(l,t)},d(s){s&&i(e)}}}function Ht(a){let e;return{c(){e=u("hr")},l(t){e=d(t,"HR",{})},m(t,l){$(t,e,l)},d(t){t&&i(e)}}}function Ne(a){let e,t,l,s,r,n,c=(a[9]?a[9].nickname:a[7].node.from.slice(0,6)+"..."+a[7].node.from.slice(-4))+"",f,p,m,V,g,I,b,v,k,D=(a[10]?a[10].nickname:a[7].node.to.slice(0,6)+"..."+a[7].node.to.slice(-4))+"",C,S,N,M,K,F=ne.formatObjekt(a[7].node.objekt.collection,a[7].node.objekt)+"",Y,Z,Q,te,J,H,P,U;function G(){return a[4](a[7])}function re(O,R){return O[8]<60?qt:O[8]<3600?Rt:Ot}let T=re(a),B=T(a),x=a[12]<4&&Ht();return{c(){e=u("div"),t=u("div"),l=u("img"),r=E(),n=u("a"),f=A(c),m=E(),V=u("div"),g=E(),I=u("img"),v=E(),k=u("a"),C=A(D),N=E(),M=u("div"),K=u("button"),Y=A(F),Z=E(),Q=u("div"),te=E(),B.c(),J=E(),x&&x.c(),H=ee(),this.h()},l(O){e=d(O,"DIV",{class:!0});var R=h(e);t=d(R,"DIV",{class:!0});var w=h(t);l=d(w,"IMG",{class:!0,src:!0,alt:!0}),r=j(w),n=d(w,"A",{href:!0,class:!0});var z=h(n);f=L(z,c),z.forEach(i),m=j(w),V=d(w,"DIV",{class:!0}),h(V).forEach(i),g=j(w),I=d(w,"IMG",{class:!0,src:!0,alt:!0}),v=j(w),k=d(w,"A",{href:!0,class:!0});var y=h(k);C=L(y,D),y.forEach(i),w.forEach(i),N=j(R),M=d(R,"DIV",{class:!0});var q=h(M);K=d(q,"BUTTON",{class:!0});var ae=h(K);Y=L(ae,F),ae.forEach(i),Z=j(q),Q=d(q,"DIV",{class:!0}),h(Q).forEach(i),te=j(q),B.l(q),q.forEach(i),R.forEach(i),J=j(O),x&&x.l(O),H=ee(),this.h()},h(){_(l,"class","profileImage svelte-hdzhr2"),ue(l.src,s="https://static.cosmo.fans/uploads/images/img_profile_gallag@3x.png")||_(l,"src",s),_(l,"alt","To"),_(n,"href",p="/@"+(a[9]?a[9].nickname:a[7].node.from)),_(n,"class","svelte-hdzhr2"),_(V,"class","spacer svelte-hdzhr2"),_(I,"class","profileImage svelte-hdzhr2"),ue(I.src,b="https://static.cosmo.fans/uploads/images/img_profile_gallag@3x.png")||_(I,"src",b),_(I,"alt","To"),_(k,"href",S="/@"+(a[10]?a[10].nickname:a[7].node.to)),_(k,"class","svelte-hdzhr2"),_(t,"class","users svelte-hdzhr2"),_(K,"class","svelte-hdzhr2"),_(Q,"class","spacer svelte-hdzhr2"),_(M,"class","objekt svelte-hdzhr2"),_(e,"class","transfer svelte-hdzhr2")},m(O,R){$(O,e,R),o(e,t),o(t,l),o(t,r),o(t,n),o(n,f),o(t,m),o(t,V),o(t,g),o(t,I),o(t,v),o(t,k),o(k,C),o(e,N),o(e,M),o(M,K),o(K,Y),o(M,Z),o(M,Q),o(M,te),B.m(M,null),$(O,J,R),x&&x.m(O,R),$(O,H,R),P||(U=Ce(K,"click",G),P=!0)},p(O,R){a=O,R&3&&c!==(c=(a[9]?a[9].nickname:a[7].node.from.slice(0,6)+"..."+a[7].node.from.slice(-4))+"")&&W(f,c),R&3&&p!==(p="/@"+(a[9]?a[9].nickname:a[7].node.from))&&_(n,"href",p),R&3&&D!==(D=(a[10]?a[10].nickname:a[7].node.to.slice(0,6)+"..."+a[7].node.to.slice(-4))+"")&&W(C,D),R&3&&S!==(S="/@"+(a[10]?a[10].nickname:a[7].node.to))&&_(k,"href",S),R&1&&F!==(F=ne.formatObjekt(a[7].node.objekt.collection,a[7].node.objekt)+"")&&W(Y,F),T===(T=re(a))&&B?B.p(a,R):(B.d(1),B=T(a),B&&(B.c(),B.m(M,null)))},d(O){O&&(i(e),i(J),i(H)),B.d(),x&&x.d(O),P=!1,U()}}}function Bt(a){let e,t,l,s=a[2]("widget.transfers.title")+"",r,n,c,f=a[2]("widget.transfers.subtitle")+"",p,m,V,g,I,b,v=a[2]("widget.transfers.sender")+"",k,D,C,S,N,M=a[2]("widget.transfers.receiver")+"",K,F,Y,Z;function Q(H,P){return H[0]&&H[0].data&&H[1]?zt:Pt}let te=Q(a),J=te(a);return{c(){e=u("div"),t=u("div"),l=u("b"),r=A(s),n=E(),c=u("p"),p=A(f),m=E(),V=u("hr"),g=E(),I=u("div"),b=u("p"),k=A(v),D=E(),C=u("div"),S=E(),N=u("p"),K=A(M),F=E(),Y=u("hr"),Z=E(),J.c(),this.h()},l(H){e=d(H,"DIV",{class:!0});var P=h(e);t=d(P,"DIV",{class:!0});var U=h(t);l=d(U,"B",{});var G=h(l);r=L(G,s),G.forEach(i),n=j(U),c=d(U,"P",{});var re=h(c);p=L(re,f),re.forEach(i),U.forEach(i),m=j(P),V=d(P,"HR",{}),g=j(P),I=d(P,"DIV",{class:!0});var T=h(I);b=d(T,"P",{class:!0});var B=h(b);k=L(B,v),B.forEach(i),D=j(T),C=d(T,"DIV",{class:!0}),h(C).forEach(i),S=j(T),N=d(T,"P",{class:!0});var x=h(N);K=L(x,M),x.forEach(i),T.forEach(i),F=j(P),Y=d(P,"HR",{}),Z=j(P),J.l(P),P.forEach(i),this.h()},h(){_(t,"class","header"),_(b,"class","svelte-hdzhr2"),_(C,"class","spacer svelte-hdzhr2"),_(N,"class","svelte-hdzhr2"),_(I,"class","header labels svelte-hdzhr2"),_(e,"class","widget svelte-hdzhr2")},m(H,P){$(H,e,P),o(e,t),o(t,l),o(l,r),o(t,n),o(t,c),o(c,p),o(e,m),o(e,V),o(e,g),o(e,I),o(I,b),o(b,k),o(I,D),o(I,C),o(I,S),o(I,N),o(N,K),o(e,F),o(e,Y),o(e,Z),J.m(e,null)},p(H,[P]){P&4&&s!==(s=H[2]("widget.transfers.title")+"")&&W(r,s),P&4&&f!==(f=H[2]("widget.transfers.subtitle")+"")&&W(p,f),P&4&&v!==(v=H[2]("widget.transfers.sender")+"")&&W(k,v),P&4&&M!==(M=H[2]("widget.transfers.receiver")+"")&&W(K,M),te===(te=Q(H))&&J?J.p(H,P):(J.d(1),J=te(H),J&&(J.c(),J.m(e,null)))},i:X,o:X,d(H){H&&i(e),J.d()}}}function Tt(a,e,t){let l,s;ve(a,je,m=>t(2,l=m)),ve(a,Ge,m=>t(3,s=m));let{data:r}=e,n;const c=m=>Ae(`/objekt/${m.node.objekt.collection.id}/${m.node.objekt.serial}`,{collection:m.node.objekt.collection,objekt:m.node.objekt,previous:s.url.href}),f=(m,V)=>V.address===m.node.from,p=(m,V)=>V.address===m.node.to;return a.$$set=m=>{"data"in m&&t(0,r=m.data)},a.$$.update=()=>{if(a.$$.dirty&3&&r&&r.data&&!n){const m=new Set(r.data.transfersConnection.edges.reduce((V,g)=>[...V,g.node.to,g.node.from],[]));fetch(`${Ue.URL}/user/v1/by-address/${Array.from(m).join(",")}`).then(async V=>t(1,n=await V.json()))}},[r,n,l,s,c,f,p]}class Nt extends ye{constructor(e){super(),we(this,e,Tt,Bt,ge,{data:0})}}function Ut(a){let e,t,l,s;return e=new Le({props:{data:a[0]}}),l=new We({props:{data:a[0]}}),{c(){pe(e.$$.fragment),t=E(),pe(l.$$.fragment)},l(r){me(e.$$.fragment,r),t=j(r),me(l.$$.fragment,r)},m(r,n){be(e,r,n),$(r,t,n),be(l,r,n),s=!0},p(r,n){const c={};n&1&&(c.data=r[0]),e.$set(c);const f={};n&1&&(f.data=r[0]),l.$set(f)},i(r){s||(fe(e.$$.fragment,r),fe(l.$$.fragment,r),s=!0)},o(r){ce(e.$$.fragment,r),ce(l.$$.fragment,r),s=!1},d(r){r&&i(t),ke(e,r),ke(l,r)}}}function Gt(a){let e,t,l,s;return e=new We({props:{data:a[0]}}),l=new Le({props:{data:a[0]}}),{c(){pe(e.$$.fragment),t=E(),pe(l.$$.fragment)},l(r){me(e.$$.fragment,r),t=j(r),me(l.$$.fragment,r)},m(r,n){be(e,r,n),$(r,t,n),be(l,r,n),s=!0},p(r,n){const c={};n&1&&(c.data=r[0]),e.$set(c);const f={};n&1&&(f.data=r[0]),l.$set(f)},i(r){s||(fe(e.$$.fragment,r),fe(l.$$.fragment,r),s=!0)},o(r){ce(e.$$.fragment,r),ce(l.$$.fragment,r),s=!1},d(r){r&&i(t),ke(e,r),ke(l,r)}}}function At(a){let e,t,l,s,r,n,c,f,p,m;Fe(a[2]),t=new ot({props:{data:a[0]}});const V=[Gt,Ut],g=[];function I(b,v){return b[1]>750?0:1}return s=I(a),r=g[s]=V[s](a),c=new Nt({props:{data:a[0]}}),{c(){e=u("div"),pe(t.$$.fragment),l=E(),r.c(),n=E(),pe(c.$$.fragment),this.h()},l(b){e=d(b,"DIV",{class:!0});var v=h(e);me(t.$$.fragment,v),l=j(v),r.l(v),n=j(v),me(c.$$.fragment,v),v.forEach(i),this.h()},h(){_(e,"class","layout svelte-6cvig1")},m(b,v){$(b,e,v),be(t,e,null),o(e,l),g[s].m(e,null),o(e,n),be(c,e,null),f=!0,p||(m=Ce(window,"resize",a[2]),p=!0)},p(b,[v]){const k={};v&1&&(k.data=b[0]),t.$set(k);let D=s;s=I(b),s===D?g[s].p(b,v):(Je(),ce(g[D],1,1,()=>{g[D]=null}),Ze(),r=g[s],r?r.p(b,v):(r=g[s]=V[s](b),r.c()),fe(r,1),r.m(e,n));const C={};v&1&&(C.data=b[0]),c.$set(C)},i(b){f||(fe(t.$$.fragment,b),fe(r),fe(c.$$.fragment,b),f=!0)},o(b){ce(t.$$.fragment,b),ce(r),ce(c.$$.fragment,b),f=!1},d(b){b&&i(e),ke(t),g[s].d(),ke(c),p=!1,m()}}}function Lt(a,e,t){let l,s="";for(let c=0;c<7;c++){const f=new Date;f.setHours(0,0,0,0),f.setDate(f.getDate()-(6-c));const p=f.getTime();f.setDate(f.getDate()+1);const m=f.getTime();s+=`
            day${c+1}: objektsConnection(orderBy: id_ASC, where: {minted_gte: "${p}", minted_lte: "${m}"}) {
                totalCount
            }
        `}fetch(ne.URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                query {
                    squidStatus {
                        height
                    }
                    objektsConnection(orderBy: id_ASC) {
                        totalCount
                    }
                    transfersConnection(orderBy: id_DESC, first: 5, where: {from_not_eq: "${ze}", to_not_eq: "${ze}"}) {
                        edges {
                            node {
                                ${Object.keys(ne.Transfer).join(`
`)}
                                objekt {
                                    ${Object.keys(ne.Objekt).join(`
`)}
                                    collection {
                                        ${Object.keys(ne.Collection).join(`
`)}
                                    }
                                }
                            }
                        }
                    }
                    mints: objektsConnection(orderBy: minted_DESC, where: {collection_isNull: false}, first: 10) {
                        edges {
                            node {
                                ${Object.keys(ne.Objekt).join(`
`)}
                                collection {
                                    ${Object.keys(ne.Collection).join(`
`)}
                                }
                            }
                        }
                    }
                    ${s}
                }
            `})}).then(async c=>{t(0,l=await c.json())});let r;function n(){t(1,r=window.innerWidth)}return[l,r,n]}class xt extends ye{constructor(e){super(),we(this,e,Lt,At,ge,{})}}export{xt as component};
