import{s as me,n as x,c as ue,e as ce,y as ze}from"../chunks/scheduler.nSpB3e7h.js";import{S as be,i as ke,e as d,t as A,s as j,c as _,a as m,b as W,d as i,f as E,r as $e,u,g as V,h as n,j as z,y as ae,v as ge,x as Pe,w as ee,C as Ve,k as de,l as _e,m as he,o as ne,z as Fe,n as ie,p as ve,A as Ze}from"../chunks/index.LgmeCg8a.js";import{$ as Ee,P as Ce,C as Ue,e as fe,j as Je,S as oe,Z as qe}from"../chunks/apis.20iELXIb.js";import{s as Se,a as De}from"../chunks/status_warning.C_r86Sei.js";import{s as Ie}from"../chunks/status_error.K3rrPbxW.js";import{a as Qe}from"../chunks/units.xg1oed5_.js";import{p as Ge}from"../chunks/stores.OZ_QEDlF.js";import{p as Le}from"../chunks/entry.a8r-NOyg.js";function Ke(a){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),m(e).forEach(i),this.h()},h(){u(e,"class","textPlaceholder"),ae(e,"width","110px")},m(t,l){V(t,e,l)},p:x,d(t){t&&i(e)}}}function Xe(a){let e,t;return{c(){e=d("p"),t=A(a[4]),this.h()},l(l){e=_(l,"P",{class:!0});var s=m(e);t=W(s,a[4]),s.forEach(i),this.h()},h(){u(e,"class","message svelte-1oj9i46")},m(l,s){V(l,e,s),n(e,t)},p(l,s){s&16&&z(t,l[4])},d(l){l&&i(e)}}}function Ye(a){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),m(e).forEach(i),this.h()},h(){u(e,"class","statusPlaceholder svelte-1oj9i46")},m(t,l){V(t,e,l)},p:x,d(t){t&&i(e)}}}function xe(a){let e,t;return{c(){e=d("img"),this.h()},l(l){e=_(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ce(e.src,t=a[1])||u(e,"src",t),u(e,"alt","Status"),u(e,"class","svelte-1oj9i46")},m(l,s){V(l,e,s)},p(l,s){s&2&&!ce(e.src,t=l[1])&&u(e,"src",t)},d(l){l&&i(e)}}}function et(a){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),m(e).forEach(i),this.h()},h(){u(e,"class","statusPlaceholder svelte-1oj9i46")},m(t,l){V(t,e,l)},p:x,d(t){t&&i(e)}}}function tt(a){let e,t,l;return{c(){e=d("img"),this.h()},l(s){e=_(s,"IMG",{src:!0,alt:!0,title:!0,class:!0}),this.h()},h(){ce(e.src,t=a[2])||u(e,"src",t),u(e,"alt","Status"),u(e,"title",l=a[5]?`Gas: ${Math.round(a[5]).toLocaleString("en-US")} Gwei`:""),u(e,"class","svelte-1oj9i46")},m(s,r){V(s,e,r)},p(s,r){r&4&&!ce(e.src,t=s[2])&&u(e,"src",t),r&32&&l!==(l=s[5]?`Gas: ${Math.round(s[5]).toLocaleString("en-US")} Gwei`:"")&&u(e,"title",l)},d(s){s&&i(e)}}}function lt(a){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),m(e).forEach(i),this.h()},h(){u(e,"class","statusPlaceholder svelte-1oj9i46")},m(t,l){V(t,e,l)},p:x,d(t){t&&i(e)}}}function st(a){let e,t;return{c(){e=d("img"),this.h()},l(l){e=_(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ce(e.src,t=a[3])||u(e,"src",t),u(e,"alt","Status"),u(e,"class","svelte-1oj9i46")},m(l,s){V(l,e,s)},p(l,s){s&8&&!ce(e.src,t=l[3])&&u(e,"src",t)},d(l){l&&i(e)}}}function at(a){let e,t,l,s=a[0]("widget.status.title")+"",r,o,c,f,v,h,g,w,y="Cosmo:",b,p,k,I,P,O,B="Polygon:",H,G,J,K,F,Q,X="Nova:",q;function N(S,U){return S[1]&&S[2]&&S[3]?Xe:Ke}let R=N(a),T=R(a);function re(S,U){return S[1]?xe:Ye}let te=re(a),M=te(a);function $(S,U){return S[2]?tt:et}let C=$(a),D=C(a);function L(S,U){return S[3]?st:lt}let Y=L(a),Z=Y(a);return{c(){e=d("div"),t=d("div"),l=d("b"),r=A(s),o=j(),T.c(),c=j(),f=d("hr"),v=j(),h=d("div"),g=d("div"),w=d("p"),w.textContent=y,b=j(),M.c(),p=j(),k=d("hr"),I=j(),P=d("div"),O=d("p"),O.textContent=B,H=j(),D.c(),G=j(),J=d("hr"),K=j(),F=d("div"),Q=d("p"),Q.textContent=X,q=j(),Z.c(),this.h()},l(S){e=_(S,"DIV",{class:!0});var U=m(e);t=_(U,"DIV",{class:!0});var se=m(t);l=_(se,"B",{});var pe=m(l);r=W(pe,s),pe.forEach(i),o=E(se),T.l(se),se.forEach(i),c=E(U),f=_(U,"HR",{}),v=E(U),h=_(U,"DIV",{class:!0});var le=m(h);g=_(le,"DIV",{class:!0});var we=m(g);w=_(we,"P",{class:!0,"data-svelte-h":!0}),$e(w)!=="svelte-26le49"&&(w.textContent=y),b=E(we),M.l(we),we.forEach(i),p=E(le),k=_(le,"HR",{}),I=E(le),P=_(le,"DIV",{class:!0});var ye=m(P);O=_(ye,"P",{class:!0,"data-svelte-h":!0}),$e(O)!=="svelte-10he4ig"&&(O.textContent=B),H=E(ye),D.l(ye),ye.forEach(i),G=E(le),J=_(le,"HR",{}),K=E(le),F=_(le,"DIV",{class:!0});var je=m(F);Q=_(je,"P",{class:!0,"data-svelte-h":!0}),$e(Q)!=="svelte-4bipqc"&&(Q.textContent=X),q=E(je),Z.l(je),je.forEach(i),le.forEach(i),U.forEach(i),this.h()},h(){u(t,"class","header"),u(w,"class","svelte-1oj9i46"),u(g,"class","item svelte-1oj9i46"),u(O,"class","svelte-1oj9i46"),u(P,"class","item svelte-1oj9i46"),u(Q,"class","svelte-1oj9i46"),u(F,"class","item svelte-1oj9i46"),u(h,"class","content svelte-1oj9i46"),u(e,"class","widget svelte-1oj9i46")},m(S,U){V(S,e,U),n(e,t),n(t,l),n(l,r),n(t,o),T.m(t,null),n(e,c),n(e,f),n(e,v),n(e,h),n(h,g),n(g,w),n(g,b),M.m(g,null),n(h,p),n(h,k),n(h,I),n(h,P),n(P,O),n(P,H),D.m(P,null),n(h,G),n(h,J),n(h,K),n(h,F),n(F,Q),n(F,q),Z.m(F,null)},p(S,[U]){U&1&&s!==(s=S[0]("widget.status.title")+"")&&z(r,s),R===(R=N(S))&&T?T.p(S,U):(T.d(1),T=R(S),T&&(T.c(),T.m(t,null))),te===(te=re(S))&&M?M.p(S,U):(M.d(1),M=te(S),M&&(M.c(),M.m(g,null))),C===(C=$(S))&&D?D.p(S,U):(D.d(1),D=C(S),D&&(D.c(),D.m(P,null))),Y===(Y=L(S))&&Z?Z.p(S,U):(Z.d(1),Z=Y(S),Z&&(Z.c(),Z.m(F,null)))},i:x,o:x,d(S){S&&i(e),T.d(),M.d(),D.d(),Z.d()}}}function rt(a,e,t){let l;ue(a,Ee,w=>t(0,l=w));let{data:s}=e,r,o,c,f=l("widget.status.no_errors"),v;async function h(){try{if(!await(await fetch(Ue.URL)).json())throw new Error;t(1,r=De)}catch{t(1,r=Ie),t(4,f=l("widget.status.cosmo_unreachable"))}}async function g(){try{const w=await Ce.RPC.getFeeData();t(5,v=Number(Qe(w.gasPrice,"gwei"))),v>400?(t(2,o=Se),t(4,f=l("widget.status.blockchain_congested"))):t(2,o=De)}catch{t(2,o=Ie),t(4,f=l("widget.status.blockchain_unreachable"))}}return h(),g(),a.$$set=w=>{"data"in w&&t(6,s=w.data)},a.$$.update=()=>{a.$$.dirty&65&&s&&(s.data?Ce.RPC.getBlockNumber().then(w=>{s.data.squidStatus.height<w-3800?(t(3,c=Se),t(4,f=l("widget.status.db_unsynced"))):t(3,c=De)}):(t(3,c=Ie),t(4,f=l("widget.status.db_unreachable"))))},[l,r,o,c,f,v,s]}class ot extends be{constructor(e){super(),ke(this,e,rt,at,me,{data:6})}}function Me(a,e,t){const l=a.slice();return l[5]=e[t],l[7]=t,l}function Oe(a){let e,t,l,s=`${a[0]&&a[0].data?a[0].data[`day${a[7]+1}`].totalCount/a[1]*100:10}px`,r,o,c=new Intl.DateTimeFormat(void 0,{weekday:"short"}).format(new Date().setDate(new Date().getDate()+a[7]+1))+"",f,v;return{c(){e=d("div"),t=d("div"),r=j(),o=d("p"),f=A(c),v=j(),this.h()},l(h){e=_(h,"DIV",{class:!0});var g=m(e);t=_(g,"DIV",{class:!0,title:!0}),m(t).forEach(i),r=E(g),o=_(g,"P",{class:!0});var w=m(o);f=W(w,c),w.forEach(i),v=E(g),g.forEach(i),this.h()},h(){u(t,"class","bar svelte-km24cf"),u(t,"title",l=a[0]&&a[0].data?a[0].data[`day${a[7]+1}`].totalCount.toLocaleString("en-US"):""),Pe(t,"loaded",a[0]&&a[0].data),ae(t,"height",s),u(o,"class","svelte-km24cf"),u(e,"class","day svelte-km24cf")},m(h,g){V(h,e,g),n(e,t),n(e,r),n(e,o),n(o,f),n(e,v)},p(h,g){g&1&&l!==(l=h[0]&&h[0].data?h[0].data[`day${h[7]+1}`].totalCount.toLocaleString("en-US"):"")&&u(t,"title",l),g&1&&Pe(t,"loaded",h[0]&&h[0].data),g&3&&s!==(s=`${h[0]&&h[0].data?h[0].data[`day${h[7]+1}`].totalCount/h[1]*100:10}px`)&&ae(t,"height",s)},d(h){h&&i(e)}}}function nt(a){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),m(e).forEach(i),this.h()},h(){u(e,"class","textPlaceholder"),ae(e,"width","50px")},m(t,l){V(t,e,l)},p:x,d(t){t&&i(e)}}}function it(a){let e,t=a[3](Object.keys(a[0].data).filter(Re).reduce(a[4],0))+"",l;return{c(){e=d("p"),l=A(t),this.h()},l(s){e=_(s,"P",{class:!0});var r=m(e);l=W(r,t),r.forEach(i),this.h()},h(){u(e,"class","svelte-km24cf")},m(s,r){V(s,e,r),n(e,l)},p(s,r){r&9&&t!==(t=s[3](Object.keys(s[0].data).filter(Re).reduce(s[4],0))+"")&&z(l,t)},d(s){s&&i(e)}}}function ct(a){let e;return{c(){e=d("div"),this.h()},l(t){e=_(t,"DIV",{class:!0}),m(e).forEach(i),this.h()},h(){u(e,"class","textPlaceholder"),ae(e,"width","40px")},m(t,l){V(t,e,l)},p:x,d(t){t&&i(e)}}}function ft(a){let e,t=a[3](a[0].data.day7.totalCount)+"",l;return{c(){e=d("p"),l=A(t),this.h()},l(s){e=_(s,"P",{class:!0});var r=m(e);l=W(r,t),r.forEach(i),this.h()},h(){u(e,"class","svelte-km24cf")},m(s,r){V(s,e,r),n(e,l)},p(s,r){r&9&&t!==(t=s[3](s[0].data.day7.totalCount)+"")&&z(l,t)},d(s){s&&i(e)}}}function ut(a){let e,t,l,s=a[2]("widget.objektsupply.title")+"",r,o,c,f,v,h,g,w,y,b,p,k=a[2]("widget.objektsupply.weekly_supply")+"",I,P,O,B,H,G,J,K=a[2]("widget.objektsupply.daily_supply")+"",F,Q,X=fe({length:7}),q=[];for(let $=0;$<X.length;$+=1)q[$]=Oe(Me(a,X,$));function N($,C){return $[0]&&$[0].data?it:nt}let R=N(a),T=R(a);function re($,C){return $[0]&&$[0].data?ft:ct}let te=re(a),M=te(a);return{c(){e=d("div"),t=d("div"),l=d("b"),r=A(s),o=j(),c=d("hr"),f=j(),v=d("div");for(let $=0;$<q.length;$+=1)q[$].c();h=j(),g=d("hr"),w=j(),y=d("div"),b=d("div"),p=d("b"),I=A(k),P=j(),T.c(),O=j(),B=d("hr"),H=j(),G=d("div"),J=d("b"),F=A(K),Q=j(),M.c(),this.h()},l($){e=_($,"DIV",{class:!0});var C=m(e);t=_(C,"DIV",{class:!0});var D=m(t);l=_(D,"B",{});var L=m(l);r=W(L,s),L.forEach(i),D.forEach(i),o=E(C),c=_(C,"HR",{}),f=E(C),v=_(C,"DIV",{class:!0});var Y=m(v);for(let le=0;le<q.length;le+=1)q[le].l(Y);Y.forEach(i),h=E(C),g=_(C,"HR",{}),w=E(C),y=_(C,"DIV",{class:!0});var Z=m(y);b=_(Z,"DIV",{class:!0});var S=m(b);p=_(S,"B",{class:!0});var U=m(p);I=W(U,k),U.forEach(i),P=E(S),T.l(S),S.forEach(i),O=E(Z),B=_(Z,"HR",{class:!0}),H=E(Z),G=_(Z,"DIV",{class:!0});var se=m(G);J=_(se,"B",{class:!0});var pe=m(J);F=W(pe,K),pe.forEach(i),Q=E(se),M.l(se),se.forEach(i),Z.forEach(i),C.forEach(i),this.h()},h(){u(t,"class","header"),u(v,"class","graph svelte-km24cf"),u(p,"class","svelte-km24cf"),u(b,"class","svelte-km24cf"),u(B,"class","svelte-km24cf"),u(J,"class","svelte-km24cf"),u(G,"class","svelte-km24cf"),u(y,"class","details svelte-km24cf"),u(e,"class","widget svelte-km24cf")},m($,C){V($,e,C),n(e,t),n(t,l),n(l,r),n(e,o),n(e,c),n(e,f),n(e,v);for(let D=0;D<q.length;D+=1)q[D]&&q[D].m(v,null);n(e,h),n(e,g),n(e,w),n(e,y),n(y,b),n(b,p),n(p,I),n(b,P),T.m(b,null),n(y,O),n(y,B),n(y,H),n(y,G),n(G,J),n(J,F),n(G,Q),M.m(G,null)},p($,[C]){if(C&4&&s!==(s=$[2]("widget.objektsupply.title")+"")&&z(r,s),C&3){X=fe({length:7});let D;for(D=0;D<X.length;D+=1){const L=Me($,X,D);q[D]?q[D].p(L,C):(q[D]=Oe(L),q[D].c(),q[D].m(v,null))}for(;D<q.length;D+=1)q[D].d(1);q.length=X.length}C&4&&k!==(k=$[2]("widget.objektsupply.weekly_supply")+"")&&z(I,k),R===(R=N($))&&T?T.p($,C):(T.d(1),T=R($),T&&(T.c(),T.m(b,null))),C&4&&K!==(K=$[2]("widget.objektsupply.daily_supply")+"")&&z(F,K),te===(te=re($))&&M?M.p($,C):(M.d(1),M=te($),M&&(M.c(),M.m(G,null)))},i:x,o:x,d($){$&&i(e),ge(q,$),T.d(),M.d()}}}const Re=a=>a.startsWith("day");function dt(a,e,t){let l,s,r;ue(a,Ee,f=>t(2,s=f)),ue(a,Je,f=>t(3,r=f));let{data:o}=e;const c=(f,v)=>f+o.data[v].totalCount;return a.$$set=f=>{"data"in f&&t(0,o=f.data)},a.$$.update=()=>{a.$$.dirty&1&&t(1,l=o&&o.data?Object.keys(o.data).filter(f=>f.startsWith("day")).reduce((f,v)=>o.data[v].totalCount>f?o.data[v].totalCount:f,0):0)},[o,l,s,r,c]}class Ae extends be{constructor(e){super(),ke(this,e,dt,ut,me,{data:0})}}function _t(a,e,t){const l=a.slice();return l[8]=e[t],l[7]=t,l}function He(a,e,t){const l=a.slice();l[4]=e[t],l[7]=t;const s=(Date.now()-l[4].node.minted)/1e3;return l[5]=s,l}function ht(a){let e,t=fe({length:10}),l=[];for(let s=0;s<t.length;s+=1)l[s]=mt(_t(a,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ee()},m(s,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,r);V(s,e,r)},p:x,d(s){s&&i(e),ge(l,s)}}}function vt(a){let e,t=fe(a[0].data.mints.edges),l=[];for(let s=0;s<t.length;s+=1)l[s]=Te(He(a,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ee()},m(s,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,r);V(s,e,r)},p(s,r){if(r&7){t=fe(s[0].data.mints.edges);let o;for(o=0;o<t.length;o+=1){const c=He(s,t,o);l[o]?l[o].p(c,r):(l[o]=Te(c),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&i(e),ge(l,s)}}}function pt(a){let e;return{c(){e=d("hr")},l(t){e=_(t,"HR",{})},m(t,l){V(t,e,l)},d(t){t&&i(e)}}}function mt(a){let e,t,l,s,r,o,c=a[7]<9&&pt();return{c(){e=d("div"),t=d("div"),l=j(),s=d("div"),r=j(),c&&c.c(),o=ee(),this.h()},l(f){e=_(f,"DIV",{class:!0});var v=m(e);t=_(v,"DIV",{class:!0}),m(t).forEach(i),l=E(v),s=_(v,"DIV",{class:!0}),m(s).forEach(i),v.forEach(i),r=E(f),c&&c.l(f),o=ee(),this.h()},h(){u(t,"class","textPlaceholder objektPlaceholder svelte-9rx6np"),ae(t,"width","140px"),u(s,"class","textPlaceholder"),ae(s,"width","100px"),u(e,"class","objekt svelte-9rx6np")},m(f,v){V(f,e,v),n(e,t),n(e,l),n(e,s),V(f,r,v),c&&c.m(f,v),V(f,o,v)},p:x,d(f){f&&(i(e),i(r),i(o)),c&&c.d(f)}}}function bt(a){let e,t=a[1]("general.hours_past",{values:{hours:Math.floor(a[5]/3600)}})+"",l;return{c(){e=d("p"),l=A(t),this.h()},l(s){e=_(s,"P",{class:!0});var r=m(e);l=W(r,t),r.forEach(i),this.h()},h(){u(e,"class","svelte-9rx6np")},m(s,r){V(s,e,r),n(e,l)},p(s,r){r&3&&t!==(t=s[1]("general.hours_past",{values:{hours:Math.floor(s[5]/3600)}})+"")&&z(l,t)},d(s){s&&i(e)}}}function kt(a){let e,t=a[1]("general.minutes_past",{values:{minutes:Math.floor(a[5]/60)}})+"",l;return{c(){e=d("p"),l=A(t),this.h()},l(s){e=_(s,"P",{class:!0});var r=m(e);l=W(r,t),r.forEach(i),this.h()},h(){u(e,"class","svelte-9rx6np")},m(s,r){V(s,e,r),n(e,l)},p(s,r){r&3&&t!==(t=s[1]("general.minutes_past",{values:{minutes:Math.floor(s[5]/60)}})+"")&&z(l,t)},d(s){s&&i(e)}}}function gt(a){let e,t=a[1]("general.seconds_past",{values:{seconds:Math.floor(a[5])}})+"",l;return{c(){e=d("p"),l=A(t),this.h()},l(s){e=_(s,"P",{class:!0});var r=m(e);l=W(r,t),r.forEach(i),this.h()},h(){u(e,"class","svelte-9rx6np")},m(s,r){V(s,e,r),n(e,l)},p(s,r){r&3&&t!==(t=s[1]("general.seconds_past",{values:{seconds:Math.floor(s[5])}})+"")&&z(l,t)},d(s){s&&i(e)}}}function wt(a){let e;return{c(){e=d("hr")},l(t){e=_(t,"HR",{})},m(t,l){V(t,e,l)},d(t){t&&i(e)}}}function Te(a){let e,t,l=oe.formatObjekt(a[4].node.collection,a[4].node)+"",s,r,o,c,f,v;function h(){return a[3](a[4])}function g(p,k){return p[5]<60?gt:p[5]<3600?kt:bt}let w=g(a),y=w(a),b=a[7]<9&&wt();return{c(){e=d("div"),t=d("button"),s=A(l),r=j(),y.c(),o=j(),b&&b.c(),c=ee(),this.h()},l(p){e=_(p,"DIV",{class:!0});var k=m(e);t=_(k,"BUTTON",{class:!0});var I=m(t);s=W(I,l),I.forEach(i),r=E(k),y.l(k),k.forEach(i),o=E(p),b&&b.l(p),c=ee(),this.h()},h(){u(t,"class","svelte-9rx6np"),u(e,"class","objekt svelte-9rx6np")},m(p,k){V(p,e,k),n(e,t),n(t,s),n(e,r),y.m(e,null),V(p,o,k),b&&b.m(p,k),V(p,c,k),f||(v=Ve(t,"click",h),f=!0)},p(p,k){a=p,k&1&&l!==(l=oe.formatObjekt(a[4].node.collection,a[4].node)+"")&&z(s,l),w===(w=g(a))&&y?y.p(a,k):(y.d(1),y=w(a),y&&(y.c(),y.m(e,null)))},d(p){p&&(i(e),i(o),i(c)),y.d(),b&&b.d(p),f=!1,v()}}}function yt(a){let e,t,l,s=a[1]("widget.mints.title")+"",r,o,c,f=a[1]("widget.mints.subtitle")+"",v,h,g,w;function y(k,I){return k[0]&&k[0].data?vt:ht}let b=y(a),p=b(a);return{c(){e=d("div"),t=d("div"),l=d("b"),r=A(s),o=j(),c=d("p"),v=A(f),h=j(),g=d("hr"),w=j(),p.c(),this.h()},l(k){e=_(k,"DIV",{class:!0});var I=m(e);t=_(I,"DIV",{class:!0});var P=m(t);l=_(P,"B",{});var O=m(l);r=W(O,s),O.forEach(i),o=E(P),c=_(P,"P",{});var B=m(c);v=W(B,f),B.forEach(i),P.forEach(i),h=E(I),g=_(I,"HR",{}),w=E(I),p.l(I),I.forEach(i),this.h()},h(){u(t,"class","header"),u(e,"class","widget svelte-9rx6np")},m(k,I){V(k,e,I),n(e,t),n(t,l),n(l,r),n(t,o),n(t,c),n(c,v),n(e,h),n(e,g),n(e,w),p.m(e,null)},p(k,[I]){I&2&&s!==(s=k[1]("widget.mints.title")+"")&&z(r,s),I&2&&f!==(f=k[1]("widget.mints.subtitle")+"")&&z(v,f),b===(b=y(k))&&p?p.p(k,I):(p.d(1),p=b(k),p&&(p.c(),p.m(e,null)))},i:x,o:x,d(k){k&&i(e),p.d()}}}function jt(a,e,t){let l,s;ue(a,Ee,c=>t(1,l=c)),ue(a,Ge,c=>t(2,s=c));let{data:r}=e;const o=c=>Le(`/objekt/${c.node.collection.id}/${c.node.serial}`,{collection:c.node.collection,objekt:c.node,previous:s.url.href});return a.$$set=c=>{"data"in c&&t(0,r=c.data)},[r,l,s,o]}class We extends be{constructor(e){super(),ke(this,e,jt,yt,me,{data:0})}}function Et(a,e,t){const l=a.slice();return l[13]=e[t],l[12]=t,l}function Be(a,e,t){const l=a.slice();l[7]=e[t],l[12]=t;const s=(Date.now()-l[7].node.timestamp)/1e3;l[8]=s;const r=l[1].find(function(...f){return a[5](l[7],...f)});l[9]=r;const o=l[1].find(function(...f){return a[6](l[7],...f)});return l[10]=o,l}function $t(a){let e,t=fe({length:5}),l=[];for(let s=0;s<t.length;s+=1)l[s]=Vt(Et(a,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ee()},m(s,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,r);V(s,e,r)},p:x,d(s){s&&i(e),ge(l,s)}}}function Dt(a){let e,t=fe(a[0].data.transfersConnection.edges),l=[];for(let s=0;s<t.length;s+=1)l[s]=Ne(Be(a,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ee()},m(s,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(s,r);V(s,e,r)},p(s,r){if(r&15){t=fe(s[0].data.transfersConnection.edges);let o;for(o=0;o<t.length;o+=1){const c=Be(s,t,o);l[o]?l[o].p(c,r):(l[o]=Ne(c),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(s){s&&i(e),ge(l,s)}}}function It(a){let e;return{c(){e=d("hr")},l(t){e=_(t,"HR",{})},m(t,l){V(t,e,l)},d(t){t&&i(e)}}}function Vt(a){let e,t,l,s,r,o,c,f,v,h,g,w,y,b,p,k,I=a[12]<4&&It();return{c(){e=d("div"),t=d("div"),l=d("div"),s=j(),r=d("div"),o=j(),c=d("div"),f=j(),v=d("div"),h=d("div"),g=j(),w=d("div"),y=j(),b=d("div"),p=j(),I&&I.c(),k=ee(),this.h()},l(P){e=_(P,"DIV",{class:!0});var O=m(e);t=_(O,"DIV",{class:!0});var B=m(t);l=_(B,"DIV",{class:!0}),m(l).forEach(i),s=E(B),r=_(B,"DIV",{class:!0}),m(r).forEach(i),o=E(B),c=_(B,"DIV",{class:!0}),m(c).forEach(i),B.forEach(i),f=E(O),v=_(O,"DIV",{class:!0});var H=m(v);h=_(H,"DIV",{class:!0}),m(h).forEach(i),g=E(H),w=_(H,"DIV",{class:!0}),m(w).forEach(i),y=E(H),b=_(H,"DIV",{class:!0}),m(b).forEach(i),H.forEach(i),O.forEach(i),p=E(P),I&&I.l(P),k=ee(),this.h()},h(){u(l,"class","textPlaceholder"),ae(l,"width","120px"),u(r,"class","spacer svelte-2x9hqo"),u(c,"class","textPlaceholder"),ae(c,"width","120px"),u(t,"class","users svelte-2x9hqo"),u(h,"class","textPlaceholder"),ae(h,"width","140px"),u(w,"class","spacer svelte-2x9hqo"),u(b,"class","textPlaceholder"),ae(b,"width","100px"),u(v,"class","objekt svelte-2x9hqo"),u(e,"class","transfer transferPlaceholder svelte-2x9hqo")},m(P,O){V(P,e,O),n(e,t),n(t,l),n(t,s),n(t,r),n(t,o),n(t,c),n(e,f),n(e,v),n(v,h),n(v,g),n(v,w),n(v,y),n(v,b),V(P,p,O),I&&I.m(P,O),V(P,k,O)},p:x,d(P){P&&(i(e),i(p),i(k)),I&&I.d(P)}}}function Pt(a){let e,t=a[2]("general.hours_past",{values:{hours:Math.floor(a[8]/3600)}})+"",l;return{c(){e=d("p"),l=A(t)},l(s){e=_(s,"P",{});var r=m(e);l=W(r,t),r.forEach(i)},m(s,r){V(s,e,r),n(e,l)},p(s,r){r&5&&t!==(t=s[2]("general.hours_past",{values:{hours:Math.floor(s[8]/3600)}})+"")&&z(l,t)},d(s){s&&i(e)}}}function Ct(a){let e,t=a[2]("general.minutes_past",{values:{minutes:Math.floor(a[8]/60)}})+"",l;return{c(){e=d("p"),l=A(t)},l(s){e=_(s,"P",{});var r=m(e);l=W(r,t),r.forEach(i)},m(s,r){V(s,e,r),n(e,l)},p(s,r){r&5&&t!==(t=s[2]("general.minutes_past",{values:{minutes:Math.floor(s[8]/60)}})+"")&&z(l,t)},d(s){s&&i(e)}}}function qt(a){let e,t=a[2]("general.seconds_past",{values:{seconds:Math.floor(a[8])}})+"",l;return{c(){e=d("p"),l=A(t)},l(s){e=_(s,"P",{});var r=m(e);l=W(r,t),r.forEach(i)},m(s,r){V(s,e,r),n(e,l)},p(s,r){r&5&&t!==(t=s[2]("general.seconds_past",{values:{seconds:Math.floor(s[8])}})+"")&&z(l,t)},d(s){s&&i(e)}}}function St(a){let e;return{c(){e=d("hr")},l(t){e=_(t,"HR",{})},m(t,l){V(t,e,l)},d(t){t&&i(e)}}}function Ne(a){let e,t,l,s,r,o,c=(a[9]?a[9].nickname:a[7].node.from.slice(0,6)+"..."+a[7].node.from.slice(-4))+"",f,v,h,g,w,y,b,p,k,I=(a[10]?a[10].nickname:a[7].node.to.slice(0,6)+"..."+a[7].node.to.slice(-4))+"",P,O,B,H,G,J=oe.formatObjekt(a[7].node.objekt.collection,a[7].node.objekt)+"",K,F,Q,X,q,N,R,T;function re(){return a[4](a[7])}function te(D,L){return D[8]<60?qt:D[8]<3600?Ct:Pt}let M=te(a),$=M(a),C=a[12]<4&&St();return{c(){e=d("div"),t=d("div"),l=d("img"),r=j(),o=d("a"),f=A(c),h=j(),g=d("div"),w=j(),y=d("img"),p=j(),k=d("a"),P=A(I),B=j(),H=d("div"),G=d("button"),K=A(J),F=j(),Q=d("div"),X=j(),$.c(),q=j(),C&&C.c(),N=ee(),this.h()},l(D){e=_(D,"DIV",{class:!0});var L=m(e);t=_(L,"DIV",{class:!0});var Y=m(t);l=_(Y,"IMG",{class:!0,src:!0,alt:!0}),r=E(Y),o=_(Y,"A",{href:!0,class:!0});var Z=m(o);f=W(Z,c),Z.forEach(i),h=E(Y),g=_(Y,"DIV",{class:!0}),m(g).forEach(i),w=E(Y),y=_(Y,"IMG",{class:!0,src:!0,alt:!0}),p=E(Y),k=_(Y,"A",{href:!0,class:!0});var S=m(k);P=W(S,I),S.forEach(i),Y.forEach(i),B=E(L),H=_(L,"DIV",{class:!0});var U=m(H);G=_(U,"BUTTON",{class:!0});var se=m(G);K=W(se,J),se.forEach(i),F=E(U),Q=_(U,"DIV",{class:!0}),m(Q).forEach(i),X=E(U),$.l(U),U.forEach(i),L.forEach(i),q=E(D),C&&C.l(D),N=ee(),this.h()},h(){u(l,"class","profileImage svelte-2x9hqo"),ce(l.src,s="https://static.cosmo.fans/uploads/images/img_profile_gallag@3x.png")||u(l,"src",s),u(l,"alt","To"),u(o,"href",v="/@"+(a[9]?a[9].nickname:a[7].node.from)),u(o,"class","svelte-2x9hqo"),u(g,"class","spacer svelte-2x9hqo"),u(y,"class","profileImage svelte-2x9hqo"),ce(y.src,b="https://static.cosmo.fans/uploads/images/img_profile_gallag@3x.png")||u(y,"src",b),u(y,"alt","To"),u(k,"href",O="/@"+(a[10]?a[10].nickname:a[7].node.to)),u(k,"class","svelte-2x9hqo"),u(t,"class","users svelte-2x9hqo"),u(G,"class","svelte-2x9hqo"),u(Q,"class","spacer svelte-2x9hqo"),u(H,"class","objekt svelte-2x9hqo"),u(e,"class","transfer svelte-2x9hqo")},m(D,L){V(D,e,L),n(e,t),n(t,l),n(t,r),n(t,o),n(o,f),n(t,h),n(t,g),n(t,w),n(t,y),n(t,p),n(t,k),n(k,P),n(e,B),n(e,H),n(H,G),n(G,K),n(H,F),n(H,Q),n(H,X),$.m(H,null),V(D,q,L),C&&C.m(D,L),V(D,N,L),R||(T=Ve(G,"click",re),R=!0)},p(D,L){a=D,L&3&&c!==(c=(a[9]?a[9].nickname:a[7].node.from.slice(0,6)+"..."+a[7].node.from.slice(-4))+"")&&z(f,c),L&3&&v!==(v="/@"+(a[9]?a[9].nickname:a[7].node.from))&&u(o,"href",v),L&3&&I!==(I=(a[10]?a[10].nickname:a[7].node.to.slice(0,6)+"..."+a[7].node.to.slice(-4))+"")&&z(P,I),L&3&&O!==(O="/@"+(a[10]?a[10].nickname:a[7].node.to))&&u(k,"href",O),L&1&&J!==(J=oe.formatObjekt(a[7].node.objekt.collection,a[7].node.objekt)+"")&&z(K,J),M===(M=te(a))&&$?$.p(a,L):($.d(1),$=M(a),$&&($.c(),$.m(H,null)))},d(D){D&&(i(e),i(q),i(N)),$.d(),C&&C.d(D),R=!1,T()}}}function Mt(a){let e,t,l,s=a[2]("widget.transfers.title")+"",r,o,c,f=a[2]("widget.transfers.subtitle")+"",v,h,g,w,y,b,p=a[2]("widget.transfers.sender")+"",k,I,P,O,B,H=a[2]("widget.transfers.receiver")+"",G,J,K,F;function Q(N,R){return N[0]&&N[0].data&&N[1]?Dt:$t}let X=Q(a),q=X(a);return{c(){e=d("div"),t=d("div"),l=d("b"),r=A(s),o=j(),c=d("p"),v=A(f),h=j(),g=d("hr"),w=j(),y=d("div"),b=d("p"),k=A(p),I=j(),P=d("div"),O=j(),B=d("p"),G=A(H),J=j(),K=d("hr"),F=j(),q.c(),this.h()},l(N){e=_(N,"DIV",{class:!0});var R=m(e);t=_(R,"DIV",{class:!0});var T=m(t);l=_(T,"B",{});var re=m(l);r=W(re,s),re.forEach(i),o=E(T),c=_(T,"P",{});var te=m(c);v=W(te,f),te.forEach(i),T.forEach(i),h=E(R),g=_(R,"HR",{}),w=E(R),y=_(R,"DIV",{class:!0});var M=m(y);b=_(M,"P",{class:!0});var $=m(b);k=W($,p),$.forEach(i),I=E(M),P=_(M,"DIV",{class:!0}),m(P).forEach(i),O=E(M),B=_(M,"P",{class:!0});var C=m(B);G=W(C,H),C.forEach(i),M.forEach(i),J=E(R),K=_(R,"HR",{}),F=E(R),q.l(R),R.forEach(i),this.h()},h(){u(t,"class","header"),u(b,"class","svelte-2x9hqo"),u(P,"class","spacer svelte-2x9hqo"),u(B,"class","svelte-2x9hqo"),u(y,"class","header labels svelte-2x9hqo"),u(e,"class","widget svelte-2x9hqo")},m(N,R){V(N,e,R),n(e,t),n(t,l),n(l,r),n(t,o),n(t,c),n(c,v),n(e,h),n(e,g),n(e,w),n(e,y),n(y,b),n(b,k),n(y,I),n(y,P),n(y,O),n(y,B),n(B,G),n(e,J),n(e,K),n(e,F),q.m(e,null)},p(N,[R]){R&4&&s!==(s=N[2]("widget.transfers.title")+"")&&z(r,s),R&4&&f!==(f=N[2]("widget.transfers.subtitle")+"")&&z(v,f),R&4&&p!==(p=N[2]("widget.transfers.sender")+"")&&z(k,p),R&4&&H!==(H=N[2]("widget.transfers.receiver")+"")&&z(G,H),X===(X=Q(N))&&q?q.p(N,R):(q.d(1),q=X(N),q&&(q.c(),q.m(e,null)))},i:x,o:x,d(N){N&&i(e),q.d()}}}function Ot(a,e,t){let l,s;ue(a,Ee,h=>t(2,l=h)),ue(a,Ge,h=>t(3,s=h));let{data:r}=e,o;const c=h=>Le(`/objekt/${h.node.objekt.collection.id}/${h.node.objekt.serial}`,{collection:h.node.objekt.collection,objekt:h.node.objekt,previous:s.url.href}),f=(h,g)=>g.address===h.node.from,v=(h,g)=>g.address===h.node.to;return a.$$set=h=>{"data"in h&&t(0,r=h.data)},a.$$.update=()=>{if(a.$$.dirty&3&&r&&r.data&&!o){const h=new Set(r.data.transfersConnection.edges.reduce((g,w)=>[...g,w.node.to,w.node.from],[]));fetch(`${Ue.URL}/user/v1/by-address/${Array.from(h).join(",")}`).then(async g=>t(1,o=await g.json()))}},[r,o,l,s,c,f,v]}class Rt extends be{constructor(e){super(),ke(this,e,Ot,Mt,me,{data:0})}}function Ht(a){let e,t,l,s;return e=new Ae({props:{data:a[0]}}),l=new We({props:{data:a[0]}}),{c(){de(e.$$.fragment),t=j(),de(l.$$.fragment)},l(r){_e(e.$$.fragment,r),t=E(r),_e(l.$$.fragment,r)},m(r,o){he(e,r,o),V(r,t,o),he(l,r,o),s=!0},p(r,o){const c={};o&1&&(c.data=r[0]),e.$set(c);const f={};o&1&&(f.data=r[0]),l.$set(f)},i(r){s||(ie(e.$$.fragment,r),ie(l.$$.fragment,r),s=!0)},o(r){ne(e.$$.fragment,r),ne(l.$$.fragment,r),s=!1},d(r){r&&i(t),ve(e,r),ve(l,r)}}}function Tt(a){let e,t,l,s;return e=new We({props:{data:a[0]}}),l=new Ae({props:{data:a[0]}}),{c(){de(e.$$.fragment),t=j(),de(l.$$.fragment)},l(r){_e(e.$$.fragment,r),t=E(r),_e(l.$$.fragment,r)},m(r,o){he(e,r,o),V(r,t,o),he(l,r,o),s=!0},p(r,o){const c={};o&1&&(c.data=r[0]),e.$set(c);const f={};o&1&&(f.data=r[0]),l.$set(f)},i(r){s||(ie(e.$$.fragment,r),ie(l.$$.fragment,r),s=!0)},o(r){ne(e.$$.fragment,r),ne(l.$$.fragment,r),s=!1},d(r){r&&i(t),ve(e,r),ve(l,r)}}}function Bt(a){let e,t,l,s,r,o,c,f,v,h;ze(a[2]),t=new ot({props:{data:a[0]}});const g=[Tt,Ht],w=[];function y(b,p){return b[1]>750?0:1}return s=y(a),r=w[s]=g[s](a),c=new Rt({props:{data:a[0]}}),{c(){e=d("div"),de(t.$$.fragment),l=j(),r.c(),o=j(),de(c.$$.fragment),this.h()},l(b){e=_(b,"DIV",{class:!0});var p=m(e);_e(t.$$.fragment,p),l=E(p),r.l(p),o=E(p),_e(c.$$.fragment,p),p.forEach(i),this.h()},h(){u(e,"class","layout svelte-6cvig1")},m(b,p){V(b,e,p),he(t,e,null),n(e,l),w[s].m(e,null),n(e,o),he(c,e,null),f=!0,v||(h=Ve(window,"resize",a[2]),v=!0)},p(b,[p]){const k={};p&1&&(k.data=b[0]),t.$set(k);let I=s;s=y(b),s===I?w[s].p(b,p):(Ze(),ne(w[I],1,1,()=>{w[I]=null}),Fe(),r=w[s],r?r.p(b,p):(r=w[s]=g[s](b),r.c()),ie(r,1),r.m(e,o));const P={};p&1&&(P.data=b[0]),c.$set(P)},i(b){f||(ie(t.$$.fragment,b),ie(r),ie(c.$$.fragment,b),f=!0)},o(b){ne(t.$$.fragment,b),ne(r),ne(c.$$.fragment,b),f=!1},d(b){b&&i(e),ve(t),w[s].d(),ve(c),v=!1,h()}}}function Nt(a,e,t){let l,s="";for(let c=0;c<7;c++){const f=new Date;f.setHours(0,0,0,0),f.setDate(f.getDate()-(6-c));const v=f.getTime();f.setDate(f.getDate()+1);const h=f.getTime();s+=`
            day${c+1}: objektsConnection(orderBy: id_ASC, where: {minted_gte: "${v}", minted_lte: "${h}"}) {
                totalCount
            }
        `}fetch(oe.URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                query {
                    squidStatus {
                        height
                    }
                    transfersConnection(orderBy: id_DESC, first: 5, where: {from_not_eq: "${qe}", to_not_eq: "${qe}"}) {
                        edges {
                            node {
                                ${Object.keys(oe.Transfer).join(`
`)}
                                objekt {
                                    ${Object.keys(oe.Objekt).join(`
`)}
                                    collection {
                                        ${Object.keys(oe.Collection).join(`
`)}
                                    }
                                }
                            }
                        }
                    }
                    mints: objektsConnection(orderBy: minted_DESC, where: {collection_isNull: false}, first: 10) {
                        edges {
                            node {
                                ${Object.keys(oe.Objekt).join(`
`)}
                                collection {
                                    ${Object.keys(oe.Collection).join(`
`)}
                                }
                            }
                        }
                    }
                    ${s}
                }
            `})}).then(async c=>{t(0,l=await c.json())});let r;function o(){t(1,r=window.innerWidth)}return[l,r,o]}class Jt extends be{constructor(e){super(),ke(this,e,Nt,Bt,me,{})}}export{Jt as component};
