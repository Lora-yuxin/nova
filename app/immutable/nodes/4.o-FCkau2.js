import{s as me,n as K,d as ue,c as ce,g as We}from"../chunks/scheduler.7ddvVGuS.js";import{S as be,i as ge,g as u,m as L,s as y,h as d,j as v,n as A,f as c,c as E,C as $e,k as _,a as j,x as o,o as W,l as se,A as ke,e as ee,z as Ve,r as de,u as _e,v as he,t as oe,b as Fe,d as ie,w as ve,p as Ze}from"../chunks/index.XmLGRVaW.js";import{$ as je,P as Pe,C as Ne,e as fe,d as Je,S as ne,Z as Ce}from"../chunks/apis.W9dsQ1rZ.js";import{s as ze,a as De}from"../chunks/status_warning.C_r86Sei.js";import{s as Ie}from"../chunks/status_error.K3rrPbxW.js";import{a as Qe}from"../chunks/units.vVRppVb4.js";import{p as Ue}from"../chunks/stores.YqdVkuOG.js";import{p as Ge}from"../chunks/navigation.M_W1sxtg.js";function Ke(a){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),v(e).forEach(c),this.h()},h(){_(e,"class","textPlaceholder"),se(e,"width","110px")},m(t,l){j(t,e,l)},p:K,d(t){t&&c(e)}}}function Xe(a){let e,t;return{c(){e=u("p"),t=L(a[4])},l(l){e=d(l,"P",{});var s=v(e);t=A(s,a[4]),s.forEach(c)},m(l,s){j(l,e,s),o(e,t)},p(l,s){s&16&&W(t,l[4])},d(l){l&&c(e)}}}function Ye(a){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),v(e).forEach(c),this.h()},h(){_(e,"class","statusPlaceholder svelte-1jvb0es")},m(t,l){j(t,e,l)},p:K,d(t){t&&c(e)}}}function xe(a){let e,t;return{c(){e=u("img"),this.h()},l(l){e=d(l,"IMG",{src:!0,alt:!0}),this.h()},h(){ce(e.src,t=a[1])||_(e,"src",t),_(e,"alt","Status")},m(l,s){j(l,e,s)},p(l,s){s&2&&!ce(e.src,t=l[1])&&_(e,"src",t)},d(l){l&&c(e)}}}function et(a){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),v(e).forEach(c),this.h()},h(){_(e,"class","statusPlaceholder svelte-1jvb0es")},m(t,l){j(t,e,l)},p:K,d(t){t&&c(e)}}}function tt(a){let e,t,l;return{c(){e=u("img"),this.h()},l(s){e=d(s,"IMG",{src:!0,alt:!0,title:!0}),this.h()},h(){ce(e.src,t=a[2])||_(e,"src",t),_(e,"alt","Status"),_(e,"title",l=a[5]?`Gas: ${Math.round(a[5]).toLocaleString("en-US")} Gwei`:"")},m(s,r){j(s,e,r)},p(s,r){r&4&&!ce(e.src,t=s[2])&&_(e,"src",t),r&32&&l!==(l=s[5]?`Gas: ${Math.round(s[5]).toLocaleString("en-US")} Gwei`:"")&&_(e,"title",l)},d(s){s&&c(e)}}}function lt(a){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),v(e).forEach(c),this.h()},h(){_(e,"class","statusPlaceholder svelte-1jvb0es")},m(t,l){j(t,e,l)},p:K,d(t){t&&c(e)}}}function st(a){let e,t;return{c(){e=u("img"),this.h()},l(l){e=d(l,"IMG",{src:!0,alt:!0}),this.h()},h(){ce(e.src,t=a[3])||_(e,"src",t),_(e,"alt","Status")},m(l,s){j(l,e,s)},p(l,s){s&8&&!ce(e.src,t=l[3])&&_(e,"src",t)},d(l){l&&c(e)}}}function rt(a){let e,t,l,s=a[0]("widget.status.title")+"",r,n,i,f,h,b,V,k,w="Cosmo:",m,p,g,I,P,O,T="Polygon:",q,U,J,X,F,Q,Y="Nova:",z;function B(S,N){return S[1]&&S[2]&&S[3]?Xe:Ke}let R=B(a),H=R(a);function ae(S,N){return S[1]?xe:Ye}let te=ae(a),M=te(a);function $(S,N){return S[2]?tt:et}let C=$(a),D=C(a);function G(S,N){return S[3]?st:lt}let x=G(a),Z=x(a);return{c(){e=u("div"),t=u("div"),l=u("b"),r=L(s),n=y(),H.c(),i=y(),f=u("hr"),h=y(),b=u("div"),V=u("div"),k=u("p"),k.textContent=w,m=y(),M.c(),p=y(),g=u("hr"),I=y(),P=u("div"),O=u("p"),O.textContent=T,q=y(),D.c(),U=y(),J=u("hr"),X=y(),F=u("div"),Q=u("p"),Q.textContent=Y,z=y(),Z.c(),this.h()},l(S){e=d(S,"DIV",{class:!0});var N=v(e);t=d(N,"DIV",{class:!0});var re=v(t);l=d(re,"B",{});var pe=v(l);r=A(pe,s),pe.forEach(c),n=E(re),H.l(re),re.forEach(c),i=E(N),f=d(N,"HR",{}),h=E(N),b=d(N,"DIV",{class:!0});var le=v(b);V=d(le,"DIV",{class:!0});var we=v(V);k=d(we,"P",{class:!0,"data-svelte-h":!0}),$e(k)!=="svelte-26le49"&&(k.textContent=w),m=E(we),M.l(we),we.forEach(c),p=E(le),g=d(le,"HR",{}),I=E(le),P=d(le,"DIV",{class:!0});var ye=v(P);O=d(ye,"P",{class:!0,"data-svelte-h":!0}),$e(O)!=="svelte-10he4ig"&&(O.textContent=T),q=E(ye),D.l(ye),ye.forEach(c),U=E(le),J=d(le,"HR",{}),X=E(le),F=d(le,"DIV",{class:!0});var Ee=v(F);Q=d(Ee,"P",{class:!0,"data-svelte-h":!0}),$e(Q)!=="svelte-4bipqc"&&(Q.textContent=Y),z=E(Ee),Z.l(Ee),Ee.forEach(c),le.forEach(c),N.forEach(c),this.h()},h(){_(t,"class","header"),_(k,"class","svelte-1jvb0es"),_(V,"class","item svelte-1jvb0es"),_(O,"class","svelte-1jvb0es"),_(P,"class","item svelte-1jvb0es"),_(Q,"class","svelte-1jvb0es"),_(F,"class","item svelte-1jvb0es"),_(b,"class","content svelte-1jvb0es"),_(e,"class","widget svelte-1jvb0es")},m(S,N){j(S,e,N),o(e,t),o(t,l),o(l,r),o(t,n),H.m(t,null),o(e,i),o(e,f),o(e,h),o(e,b),o(b,V),o(V,k),o(V,m),M.m(V,null),o(b,p),o(b,g),o(b,I),o(b,P),o(P,O),o(P,q),D.m(P,null),o(b,U),o(b,J),o(b,X),o(b,F),o(F,Q),o(F,z),Z.m(F,null)},p(S,[N]){N&1&&s!==(s=S[0]("widget.status.title")+"")&&W(r,s),R===(R=B(S))&&H?H.p(S,N):(H.d(1),H=R(S),H&&(H.c(),H.m(t,null))),te===(te=ae(S))&&M?M.p(S,N):(M.d(1),M=te(S),M&&(M.c(),M.m(V,null))),C===(C=$(S))&&D?D.p(S,N):(D.d(1),D=C(S),D&&(D.c(),D.m(P,null))),x===(x=G(S))&&Z?Z.p(S,N):(Z.d(1),Z=x(S),Z&&(Z.c(),Z.m(F,null)))},i:K,o:K,d(S){S&&c(e),H.d(),M.d(),D.d(),Z.d()}}}function at(a,e,t){let l;ue(a,je,k=>t(0,l=k));let{data:s}=e,r,n,i,f=l("widget.status.no_errors"),h;async function b(){try{if(!await(await fetch(Ne.URL)).json())throw new Error;t(1,r=De)}catch{t(1,r=Ie),t(4,f=l("widget.status.cosmo_unreachable"))}}async function V(){try{const k=await Pe.RPC.getFeeData();t(5,h=Number(Qe(k.gasPrice,"gwei"))),h>400?(t(2,n=ze),t(4,f=l("widget.status.blockchain_congested"))):t(2,n=De)}catch{t(2,n=Ie),t(4,f=l("widget.status.blockchain_unreachable"))}}return b(),V(),a.$$set=k=>{"data"in k&&t(6,s=k.data)},a.$$.update=()=>{a.$$.dirty&65&&s&&(s.data?Pe.RPC.getBlockNumber().then(k=>{s.data.squidStatus.height<k-3800?(t(3,i=ze),t(4,f=l("widget.status.db_unsynced"))):t(3,i=De)}):(t(3,i=Ie),t(4,f=l("widget.status.db_unreachable"))))},[l,r,n,i,f,h,s]}class nt extends be{constructor(e){super(),ge(this,e,at,rt,me,{data:6})}}function Se(a,e,t){const l=a.slice();return l[4]=e[t],l[6]=t,l}function ot(a){const e=a.slice(),t=Object.keys(e[0].data).filter(l=>l.startsWith("day")).reduce((l,s)=>e[0].data[s].totalCount>l?e[0].data[s].totalCount:l,0);return e[7]=t,e}function it(a){let e,t=`${Math.random()*90+10}px`,l,s;return{c(){e=u("div"),l=y(),s=u("div"),this.h()},l(r){e=d(r,"DIV",{class:!0}),v(e).forEach(c),l=E(r),s=d(r,"DIV",{class:!0}),v(s).forEach(c),this.h()},h(){_(e,"class","barPlaceholder svelte-7niz5t"),se(e,"height",t),_(s,"class","textPlaceholder"),se(s,"width","25px")},m(r,n){j(r,e,n),j(r,l,n),j(r,s,n)},p:K,d(r){r&&(c(e),c(l),c(s))}}}function Me(a){let e,t,l=`${a[0].data[`day${a[6]+1}`].totalCount/a[7]*100}px`,s,r,n=new Intl.DateTimeFormat(void 0,{weekday:"short"}).format(new Date().setDate(new Date().getDate()+a[6]+1))+"",i;return{c(){e=u("div"),s=y(),r=u("p"),i=L(n),this.h()},l(f){e=d(f,"DIV",{class:!0,title:!0}),v(e).forEach(c),s=E(f),r=d(f,"P",{class:!0});var h=v(r);i=A(h,n),h.forEach(c),this.h()},h(){_(e,"class","bar svelte-7niz5t"),_(e,"title",t=a[0].data[`day${a[6]+1}`].totalCount.toLocaleString("en-US")+" Objekts"),se(e,"height",l),_(r,"class","svelte-7niz5t")},m(f,h){j(f,e,h),j(f,s,h),j(f,r,h),o(r,i)},p(f,h){h&1&&t!==(t=f[0].data[`day${f[6]+1}`].totalCount.toLocaleString("en-US")+" Objekts")&&_(e,"title",t),h&1&&l!==(l=`${f[0].data[`day${f[6]+1}`].totalCount/f[7]*100}px`)&&se(e,"height",l)},d(f){f&&(c(e),c(s),c(r))}}}function Oe(a){let e,t;function l(i,f){return i[0]&&i[0].data?Me:it}function s(i,f){return f===Me?ot(i):i}let r=l(a),n=r(s(a,r));return{c(){e=u("div"),n.c(),t=y(),this.h()},l(i){e=d(i,"DIV",{class:!0});var f=v(e);n.l(f),t=E(f),f.forEach(c),this.h()},h(){_(e,"class","day svelte-7niz5t")},m(i,f){j(i,e,f),n.m(e,null),o(e,t)},p(i,f){r===(r=l(i))&&n?n.p(s(i,r),f):(n.d(1),n=r(s(i,r)),n&&(n.c(),n.m(e,t)))},d(i){i&&c(e),n.d()}}}function ct(a){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),v(e).forEach(c),this.h()},h(){_(e,"class","textPlaceholder"),se(e,"width","50px")},m(t,l){j(t,e,l)},p:K,d(t){t&&c(e)}}}function ft(a){let e,t=a[2](Object.keys(a[0].data).filter(Re).reduce(a[3],0))+"",l;return{c(){e=u("p"),l=L(t)},l(s){e=d(s,"P",{});var r=v(e);l=A(r,t),r.forEach(c)},m(s,r){j(s,e,r),o(e,l)},p(s,r){r&5&&t!==(t=s[2](Object.keys(s[0].data).filter(Re).reduce(s[3],0))+"")&&W(l,t)},d(s){s&&c(e)}}}function ut(a){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),v(e).forEach(c),this.h()},h(){_(e,"class","textPlaceholder"),se(e,"width","40px")},m(t,l){j(t,e,l)},p:K,d(t){t&&c(e)}}}function dt(a){let e,t=a[2](a[0].data.day7.totalCount)+"",l;return{c(){e=u("p"),l=L(t)},l(s){e=d(s,"P",{});var r=v(e);l=A(r,t),r.forEach(c)},m(s,r){j(s,e,r),o(e,l)},p(s,r){r&5&&t!==(t=s[2](s[0].data.day7.totalCount)+"")&&W(l,t)},d(s){s&&c(e)}}}function _t(a){let e,t,l,s=a[1]("widget.objektsupply.title")+"",r,n,i,f,h,b,V,k,w,m,p,g=a[1]("widget.objektsupply.weekly_supply")+"",I,P,O,T,q,U,J,X=a[1]("widget.objektsupply.daily_supply")+"",F,Q,Y=fe({length:7}),z=[];for(let $=0;$<Y.length;$+=1)z[$]=Oe(Se(a,Y,$));function B($,C){return $[0]&&$[0].data?ft:ct}let R=B(a),H=R(a);function ae($,C){return $[0]&&$[0].data?dt:ut}let te=ae(a),M=te(a);return{c(){e=u("div"),t=u("div"),l=u("b"),r=L(s),n=y(),i=u("hr"),f=y(),h=u("div");for(let $=0;$<z.length;$+=1)z[$].c();b=y(),V=u("hr"),k=y(),w=u("div"),m=u("div"),p=u("b"),I=L(g),P=y(),H.c(),O=y(),T=u("hr"),q=y(),U=u("div"),J=u("b"),F=L(X),Q=y(),M.c(),this.h()},l($){e=d($,"DIV",{class:!0});var C=v(e);t=d(C,"DIV",{class:!0});var D=v(t);l=d(D,"B",{});var G=v(l);r=A(G,s),G.forEach(c),D.forEach(c),n=E(C),i=d(C,"HR",{}),f=E(C),h=d(C,"DIV",{class:!0});var x=v(h);for(let le=0;le<z.length;le+=1)z[le].l(x);x.forEach(c),b=E(C),V=d(C,"HR",{}),k=E(C),w=d(C,"DIV",{class:!0});var Z=v(w);m=d(Z,"DIV",{class:!0});var S=v(m);p=d(S,"B",{class:!0});var N=v(p);I=A(N,g),N.forEach(c),P=E(S),H.l(S),S.forEach(c),O=E(Z),T=d(Z,"HR",{class:!0}),q=E(Z),U=d(Z,"DIV",{class:!0});var re=v(U);J=d(re,"B",{class:!0});var pe=v(J);F=A(pe,X),pe.forEach(c),Q=E(re),M.l(re),re.forEach(c),Z.forEach(c),C.forEach(c),this.h()},h(){_(t,"class","header"),_(h,"class","graph svelte-7niz5t"),_(p,"class","svelte-7niz5t"),_(m,"class","svelte-7niz5t"),_(T,"class","svelte-7niz5t"),_(J,"class","svelte-7niz5t"),_(U,"class","svelte-7niz5t"),_(w,"class","details svelte-7niz5t"),_(e,"class","widget svelte-7niz5t")},m($,C){j($,e,C),o(e,t),o(t,l),o(l,r),o(e,n),o(e,i),o(e,f),o(e,h);for(let D=0;D<z.length;D+=1)z[D]&&z[D].m(h,null);o(e,b),o(e,V),o(e,k),o(e,w),o(w,m),o(m,p),o(p,I),o(m,P),H.m(m,null),o(w,O),o(w,T),o(w,q),o(w,U),o(U,J),o(J,F),o(U,Q),M.m(U,null)},p($,[C]){if(C&2&&s!==(s=$[1]("widget.objektsupply.title")+"")&&W(r,s),C&1){Y=fe({length:7});let D;for(D=0;D<Y.length;D+=1){const G=Se($,Y,D);z[D]?z[D].p(G,C):(z[D]=Oe(G),z[D].c(),z[D].m(h,null))}for(;D<z.length;D+=1)z[D].d(1);z.length=Y.length}C&2&&g!==(g=$[1]("widget.objektsupply.weekly_supply")+"")&&W(I,g),R===(R=B($))&&H?H.p($,C):(H.d(1),H=R($),H&&(H.c(),H.m(m,null))),C&2&&X!==(X=$[1]("widget.objektsupply.daily_supply")+"")&&W(F,X),te===(te=ae($))&&M?M.p($,C):(M.d(1),M=te($),M&&(M.c(),M.m(U,null)))},i:K,o:K,d($){$&&c(e),ke(z,$),H.d(),M.d()}}}const Re=a=>a.startsWith("day");function ht(a,e,t){let l,s;ue(a,je,i=>t(1,l=i)),ue(a,Je,i=>t(2,s=i));let{data:r}=e;const n=(i,f)=>i+r.data[f].totalCount;return a.$$set=i=>{"data"in i&&t(0,r=i.data)},[r,l,s,n]}class Le extends be{constructor(e){super(),ge(this,e,ht,_t,me,{data:0})}}function vt(a,e,t){const l=a.slice();return l[8]=e[t],l[7]=t,l}function qe(a,e,t){const l=a.slice();l[4]=e[t],l[7]=t;const s=(Date.now()-l[4].node.minted)/1e3;return l[5]=s,l}function pt(a){let e,t=fe({length:10}),l=[];for(let s=0;s<t.length;s+=1)l[s]=gt(vt(a,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ee()},m(s,r){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,r);j(s,e,r)},p:K,d(s){s&&c(e),ke(l,s)}}}function mt(a){let e,t=fe(a[0].data.mints.edges),l=[];for(let s=0;s<t.length;s+=1)l[s]=He(qe(a,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ee()},m(s,r){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,r);j(s,e,r)},p(s,r){if(r&7){t=fe(s[0].data.mints.edges);let n;for(n=0;n<t.length;n+=1){const i=qe(s,t,n);l[n]?l[n].p(i,r):(l[n]=He(i),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){s&&c(e),ke(l,s)}}}function bt(a){let e;return{c(){e=u("hr")},l(t){e=d(t,"HR",{})},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function gt(a){let e,t,l,s,r,n,i=a[7]<9&&bt();return{c(){e=u("div"),t=u("div"),l=y(),s=u("div"),r=y(),i&&i.c(),n=ee(),this.h()},l(f){e=d(f,"DIV",{class:!0});var h=v(e);t=d(h,"DIV",{class:!0}),v(t).forEach(c),l=E(h),s=d(h,"DIV",{class:!0}),v(s).forEach(c),h.forEach(c),r=E(f),i&&i.l(f),n=ee(),this.h()},h(){_(t,"class","textPlaceholder objektPlaceholder svelte-qlgcge"),se(t,"width","140px"),_(s,"class","textPlaceholder"),se(s,"width","100px"),_(e,"class","objekt svelte-qlgcge")},m(f,h){j(f,e,h),o(e,t),o(e,l),o(e,s),j(f,r,h),i&&i.m(f,h),j(f,n,h)},p:K,d(f){f&&(c(e),c(r),c(n)),i&&i.d(f)}}}function kt(a){let e,t=a[1]("general.hours_past",{values:{hours:Math.floor(a[5]/3600)}})+"",l;return{c(){e=u("p"),l=L(t)},l(s){e=d(s,"P",{});var r=v(e);l=A(r,t),r.forEach(c)},m(s,r){j(s,e,r),o(e,l)},p(s,r){r&3&&t!==(t=s[1]("general.hours_past",{values:{hours:Math.floor(s[5]/3600)}})+"")&&W(l,t)},d(s){s&&c(e)}}}function wt(a){let e,t=a[1]("general.minutes_past",{values:{minutes:Math.floor(a[5]/60)}})+"",l;return{c(){e=u("p"),l=L(t)},l(s){e=d(s,"P",{});var r=v(e);l=A(r,t),r.forEach(c)},m(s,r){j(s,e,r),o(e,l)},p(s,r){r&3&&t!==(t=s[1]("general.minutes_past",{values:{minutes:Math.floor(s[5]/60)}})+"")&&W(l,t)},d(s){s&&c(e)}}}function yt(a){let e,t=a[1]("general.seconds_past",{values:{seconds:Math.floor(a[5])}})+"",l;return{c(){e=u("p"),l=L(t)},l(s){e=d(s,"P",{});var r=v(e);l=A(r,t),r.forEach(c)},m(s,r){j(s,e,r),o(e,l)},p(s,r){r&3&&t!==(t=s[1]("general.seconds_past",{values:{seconds:Math.floor(s[5])}})+"")&&W(l,t)},d(s){s&&c(e)}}}function Et(a){let e;return{c(){e=u("hr")},l(t){e=d(t,"HR",{})},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function He(a){let e,t,l=ne.formatObjekt(a[4].node.collection,a[4].node)+"",s,r,n,i,f,h;function b(){return a[3](a[4])}function V(p,g){return p[5]<60?yt:p[5]<3600?wt:kt}let k=V(a),w=k(a),m=a[7]<9&&Et();return{c(){e=u("div"),t=u("button"),s=L(l),r=y(),w.c(),n=y(),m&&m.c(),i=ee(),this.h()},l(p){e=d(p,"DIV",{class:!0});var g=v(e);t=d(g,"BUTTON",{class:!0});var I=v(t);s=A(I,l),I.forEach(c),r=E(g),w.l(g),g.forEach(c),n=E(p),m&&m.l(p),i=ee(),this.h()},h(){_(t,"class","svelte-qlgcge"),_(e,"class","objekt svelte-qlgcge")},m(p,g){j(p,e,g),o(e,t),o(t,s),o(e,r),w.m(e,null),j(p,n,g),m&&m.m(p,g),j(p,i,g),f||(h=Ve(t,"click",b),f=!0)},p(p,g){a=p,g&1&&l!==(l=ne.formatObjekt(a[4].node.collection,a[4].node)+"")&&W(s,l),k===(k=V(a))&&w?w.p(a,g):(w.d(1),w=k(a),w&&(w.c(),w.m(e,null)))},d(p){p&&(c(e),c(n),c(i)),w.d(),m&&m.d(p),f=!1,h()}}}function jt(a){let e,t,l,s=a[1]("widget.mints.title")+"",r,n,i,f=a[1]("widget.mints.subtitle")+"",h,b,V,k;function w(g,I){return g[0]&&g[0].data?mt:pt}let m=w(a),p=m(a);return{c(){e=u("div"),t=u("div"),l=u("b"),r=L(s),n=y(),i=u("p"),h=L(f),b=y(),V=u("hr"),k=y(),p.c(),this.h()},l(g){e=d(g,"DIV",{class:!0});var I=v(e);t=d(I,"DIV",{class:!0});var P=v(t);l=d(P,"B",{});var O=v(l);r=A(O,s),O.forEach(c),n=E(P),i=d(P,"P",{});var T=v(i);h=A(T,f),T.forEach(c),P.forEach(c),b=E(I),V=d(I,"HR",{}),k=E(I),p.l(I),I.forEach(c),this.h()},h(){_(t,"class","header"),_(e,"class","widget svelte-qlgcge")},m(g,I){j(g,e,I),o(e,t),o(t,l),o(l,r),o(t,n),o(t,i),o(i,h),o(e,b),o(e,V),o(e,k),p.m(e,null)},p(g,[I]){I&2&&s!==(s=g[1]("widget.mints.title")+"")&&W(r,s),I&2&&f!==(f=g[1]("widget.mints.subtitle")+"")&&W(h,f),m===(m=w(g))&&p?p.p(g,I):(p.d(1),p=m(g),p&&(p.c(),p.m(e,null)))},i:K,o:K,d(g){g&&c(e),p.d()}}}function $t(a,e,t){let l,s;ue(a,je,i=>t(1,l=i)),ue(a,Ue,i=>t(2,s=i));let{data:r}=e;const n=i=>Ge(`/objekt/${i.node.collection.id}/${i.node.serial}`,{collection:i.node.collection,objekt:i.node,previous:s.url.href});return a.$$set=i=>{"data"in i&&t(0,r=i.data)},[r,l,s,n]}class Ae extends be{constructor(e){super(),ge(this,e,$t,jt,me,{data:0})}}function Dt(a,e,t){const l=a.slice();return l[13]=e[t],l[12]=t,l}function Te(a,e,t){const l=a.slice();l[7]=e[t],l[12]=t;const s=(Date.now()-l[7].node.timestamp)/1e3;l[8]=s;const r=l[1].find(function(...f){return a[5](l[7],...f)});l[9]=r;const n=l[1].find(function(...f){return a[6](l[7],...f)});return l[10]=n,l}function It(a){let e,t=fe({length:5}),l=[];for(let s=0;s<t.length;s+=1)l[s]=Ct(Dt(a,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ee()},m(s,r){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,r);j(s,e,r)},p:K,d(s){s&&c(e),ke(l,s)}}}function Vt(a){let e,t=fe(a[0].data.transfersConnection.edges),l=[];for(let s=0;s<t.length;s+=1)l[s]=Be(Te(a,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ee()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=ee()},m(s,r){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,r);j(s,e,r)},p(s,r){if(r&15){t=fe(s[0].data.transfersConnection.edges);let n;for(n=0;n<t.length;n+=1){const i=Te(s,t,n);l[n]?l[n].p(i,r):(l[n]=Be(i),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(s){s&&c(e),ke(l,s)}}}function Pt(a){let e;return{c(){e=u("hr")},l(t){e=d(t,"HR",{})},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function Ct(a){let e,t,l,s,r,n,i,f,h,b,V,k,w,m,p,g,I=a[12]<4&&Pt();return{c(){e=u("div"),t=u("div"),l=u("div"),s=y(),r=u("div"),n=y(),i=u("div"),f=y(),h=u("div"),b=u("div"),V=y(),k=u("div"),w=y(),m=u("div"),p=y(),I&&I.c(),g=ee(),this.h()},l(P){e=d(P,"DIV",{class:!0});var O=v(e);t=d(O,"DIV",{class:!0});var T=v(t);l=d(T,"DIV",{class:!0}),v(l).forEach(c),s=E(T),r=d(T,"DIV",{class:!0}),v(r).forEach(c),n=E(T),i=d(T,"DIV",{class:!0}),v(i).forEach(c),T.forEach(c),f=E(O),h=d(O,"DIV",{class:!0});var q=v(h);b=d(q,"DIV",{class:!0}),v(b).forEach(c),V=E(q),k=d(q,"DIV",{class:!0}),v(k).forEach(c),w=E(q),m=d(q,"DIV",{class:!0}),v(m).forEach(c),q.forEach(c),O.forEach(c),p=E(P),I&&I.l(P),g=ee(),this.h()},h(){_(l,"class","textPlaceholder"),se(l,"width","120px"),_(r,"class","spacer svelte-hdzhr2"),_(i,"class","textPlaceholder"),se(i,"width","120px"),_(t,"class","users svelte-hdzhr2"),_(b,"class","textPlaceholder"),se(b,"width","140px"),_(k,"class","spacer svelte-hdzhr2"),_(m,"class","textPlaceholder"),se(m,"width","100px"),_(h,"class","objekt svelte-hdzhr2"),_(e,"class","transfer svelte-hdzhr2")},m(P,O){j(P,e,O),o(e,t),o(t,l),o(t,s),o(t,r),o(t,n),o(t,i),o(e,f),o(e,h),o(h,b),o(h,V),o(h,k),o(h,w),o(h,m),j(P,p,O),I&&I.m(P,O),j(P,g,O)},p:K,d(P){P&&(c(e),c(p),c(g)),I&&I.d(P)}}}function zt(a){let e,t=a[2]("general.hours_past",{values:{hours:Math.floor(a[8]/3600)}})+"",l;return{c(){e=u("p"),l=L(t)},l(s){e=d(s,"P",{});var r=v(e);l=A(r,t),r.forEach(c)},m(s,r){j(s,e,r),o(e,l)},p(s,r){r&5&&t!==(t=s[2]("general.hours_past",{values:{hours:Math.floor(s[8]/3600)}})+"")&&W(l,t)},d(s){s&&c(e)}}}function St(a){let e,t=a[2]("general.minutes_past",{values:{minutes:Math.floor(a[8]/60)}})+"",l;return{c(){e=u("p"),l=L(t)},l(s){e=d(s,"P",{});var r=v(e);l=A(r,t),r.forEach(c)},m(s,r){j(s,e,r),o(e,l)},p(s,r){r&5&&t!==(t=s[2]("general.minutes_past",{values:{minutes:Math.floor(s[8]/60)}})+"")&&W(l,t)},d(s){s&&c(e)}}}function Mt(a){let e,t=a[2]("general.seconds_past",{values:{seconds:Math.floor(a[8])}})+"",l;return{c(){e=u("p"),l=L(t)},l(s){e=d(s,"P",{});var r=v(e);l=A(r,t),r.forEach(c)},m(s,r){j(s,e,r),o(e,l)},p(s,r){r&5&&t!==(t=s[2]("general.seconds_past",{values:{seconds:Math.floor(s[8])}})+"")&&W(l,t)},d(s){s&&c(e)}}}function Ot(a){let e;return{c(){e=u("hr")},l(t){e=d(t,"HR",{})},m(t,l){j(t,e,l)},d(t){t&&c(e)}}}function Be(a){let e,t,l,s,r,n,i=(a[9]?a[9].nickname:a[7].node.from.slice(0,6)+"..."+a[7].node.from.slice(-4))+"",f,h,b,V,k,w,m,p,g,I=(a[10]?a[10].nickname:a[7].node.to.slice(0,6)+"..."+a[7].node.to.slice(-4))+"",P,O,T,q,U,J=ne.formatObjekt(a[7].node.objekt.collection,a[7].node.objekt)+"",X,F,Q,Y,z,B,R,H;function ae(){return a[4](a[7])}function te(D,G){return D[8]<60?Mt:D[8]<3600?St:zt}let M=te(a),$=M(a),C=a[12]<4&&Ot();return{c(){e=u("div"),t=u("div"),l=u("img"),r=y(),n=u("a"),f=L(i),b=y(),V=u("div"),k=y(),w=u("img"),p=y(),g=u("a"),P=L(I),T=y(),q=u("div"),U=u("button"),X=L(J),F=y(),Q=u("div"),Y=y(),$.c(),z=y(),C&&C.c(),B=ee(),this.h()},l(D){e=d(D,"DIV",{class:!0});var G=v(e);t=d(G,"DIV",{class:!0});var x=v(t);l=d(x,"IMG",{class:!0,src:!0,alt:!0}),r=E(x),n=d(x,"A",{href:!0,class:!0});var Z=v(n);f=A(Z,i),Z.forEach(c),b=E(x),V=d(x,"DIV",{class:!0}),v(V).forEach(c),k=E(x),w=d(x,"IMG",{class:!0,src:!0,alt:!0}),p=E(x),g=d(x,"A",{href:!0,class:!0});var S=v(g);P=A(S,I),S.forEach(c),x.forEach(c),T=E(G),q=d(G,"DIV",{class:!0});var N=v(q);U=d(N,"BUTTON",{class:!0});var re=v(U);X=A(re,J),re.forEach(c),F=E(N),Q=d(N,"DIV",{class:!0}),v(Q).forEach(c),Y=E(N),$.l(N),N.forEach(c),G.forEach(c),z=E(D),C&&C.l(D),B=ee(),this.h()},h(){_(l,"class","profileImage svelte-hdzhr2"),ce(l.src,s="https://static.cosmo.fans/uploads/images/img_profile_gallag@3x.png")||_(l,"src",s),_(l,"alt","To"),_(n,"href",h="/@"+(a[9]?a[9].nickname:a[7].node.from)),_(n,"class","svelte-hdzhr2"),_(V,"class","spacer svelte-hdzhr2"),_(w,"class","profileImage svelte-hdzhr2"),ce(w.src,m="https://static.cosmo.fans/uploads/images/img_profile_gallag@3x.png")||_(w,"src",m),_(w,"alt","To"),_(g,"href",O="/@"+(a[10]?a[10].nickname:a[7].node.to)),_(g,"class","svelte-hdzhr2"),_(t,"class","users svelte-hdzhr2"),_(U,"class","svelte-hdzhr2"),_(Q,"class","spacer svelte-hdzhr2"),_(q,"class","objekt svelte-hdzhr2"),_(e,"class","transfer svelte-hdzhr2")},m(D,G){j(D,e,G),o(e,t),o(t,l),o(t,r),o(t,n),o(n,f),o(t,b),o(t,V),o(t,k),o(t,w),o(t,p),o(t,g),o(g,P),o(e,T),o(e,q),o(q,U),o(U,X),o(q,F),o(q,Q),o(q,Y),$.m(q,null),j(D,z,G),C&&C.m(D,G),j(D,B,G),R||(H=Ve(U,"click",ae),R=!0)},p(D,G){a=D,G&3&&i!==(i=(a[9]?a[9].nickname:a[7].node.from.slice(0,6)+"..."+a[7].node.from.slice(-4))+"")&&W(f,i),G&3&&h!==(h="/@"+(a[9]?a[9].nickname:a[7].node.from))&&_(n,"href",h),G&3&&I!==(I=(a[10]?a[10].nickname:a[7].node.to.slice(0,6)+"..."+a[7].node.to.slice(-4))+"")&&W(P,I),G&3&&O!==(O="/@"+(a[10]?a[10].nickname:a[7].node.to))&&_(g,"href",O),G&1&&J!==(J=ne.formatObjekt(a[7].node.objekt.collection,a[7].node.objekt)+"")&&W(X,J),M===(M=te(a))&&$?$.p(a,G):($.d(1),$=M(a),$&&($.c(),$.m(q,null)))},d(D){D&&(c(e),c(z),c(B)),$.d(),C&&C.d(D),R=!1,H()}}}function Rt(a){let e,t,l,s=a[2]("widget.transfers.title")+"",r,n,i,f=a[2]("widget.transfers.subtitle")+"",h,b,V,k,w,m,p=a[2]("widget.transfers.sender")+"",g,I,P,O,T,q=a[2]("widget.transfers.receiver")+"",U,J,X,F;function Q(B,R){return B[0]&&B[0].data&&B[1]?Vt:It}let Y=Q(a),z=Y(a);return{c(){e=u("div"),t=u("div"),l=u("b"),r=L(s),n=y(),i=u("p"),h=L(f),b=y(),V=u("hr"),k=y(),w=u("div"),m=u("p"),g=L(p),I=y(),P=u("div"),O=y(),T=u("p"),U=L(q),J=y(),X=u("hr"),F=y(),z.c(),this.h()},l(B){e=d(B,"DIV",{class:!0});var R=v(e);t=d(R,"DIV",{class:!0});var H=v(t);l=d(H,"B",{});var ae=v(l);r=A(ae,s),ae.forEach(c),n=E(H),i=d(H,"P",{});var te=v(i);h=A(te,f),te.forEach(c),H.forEach(c),b=E(R),V=d(R,"HR",{}),k=E(R),w=d(R,"DIV",{class:!0});var M=v(w);m=d(M,"P",{class:!0});var $=v(m);g=A($,p),$.forEach(c),I=E(M),P=d(M,"DIV",{class:!0}),v(P).forEach(c),O=E(M),T=d(M,"P",{class:!0});var C=v(T);U=A(C,q),C.forEach(c),M.forEach(c),J=E(R),X=d(R,"HR",{}),F=E(R),z.l(R),R.forEach(c),this.h()},h(){_(t,"class","header"),_(m,"class","svelte-hdzhr2"),_(P,"class","spacer svelte-hdzhr2"),_(T,"class","svelte-hdzhr2"),_(w,"class","header labels svelte-hdzhr2"),_(e,"class","widget svelte-hdzhr2")},m(B,R){j(B,e,R),o(e,t),o(t,l),o(l,r),o(t,n),o(t,i),o(i,h),o(e,b),o(e,V),o(e,k),o(e,w),o(w,m),o(m,g),o(w,I),o(w,P),o(w,O),o(w,T),o(T,U),o(e,J),o(e,X),o(e,F),z.m(e,null)},p(B,[R]){R&4&&s!==(s=B[2]("widget.transfers.title")+"")&&W(r,s),R&4&&f!==(f=B[2]("widget.transfers.subtitle")+"")&&W(h,f),R&4&&p!==(p=B[2]("widget.transfers.sender")+"")&&W(g,p),R&4&&q!==(q=B[2]("widget.transfers.receiver")+"")&&W(U,q),Y===(Y=Q(B))&&z?z.p(B,R):(z.d(1),z=Y(B),z&&(z.c(),z.m(e,null)))},i:K,o:K,d(B){B&&c(e),z.d()}}}function qt(a,e,t){let l,s;ue(a,je,b=>t(2,l=b)),ue(a,Ue,b=>t(3,s=b));let{data:r}=e,n;const i=b=>Ge(`/objekt/${b.node.objekt.collection.id}/${b.node.objekt.serial}`,{collection:b.node.objekt.collection,objekt:b.node.objekt,previous:s.url.href}),f=(b,V)=>V.address===b.node.from,h=(b,V)=>V.address===b.node.to;return a.$$set=b=>{"data"in b&&t(0,r=b.data)},a.$$.update=()=>{if(a.$$.dirty&3&&r&&r.data&&!n){const b=new Set(r.data.transfersConnection.edges.reduce((V,k)=>[...V,k.node.to,k.node.from],[]));fetch(`${Ne.URL}/user/v1/by-address/${Array.from(b).join(",")}`).then(async V=>t(1,n=await V.json()))}},[r,n,l,s,i,f,h]}class Ht extends be{constructor(e){super(),ge(this,e,qt,Rt,me,{data:0})}}function Tt(a){let e,t,l,s;return e=new Le({props:{data:a[0]}}),l=new Ae({props:{data:a[0]}}),{c(){de(e.$$.fragment),t=y(),de(l.$$.fragment)},l(r){_e(e.$$.fragment,r),t=E(r),_e(l.$$.fragment,r)},m(r,n){he(e,r,n),j(r,t,n),he(l,r,n),s=!0},p(r,n){const i={};n&1&&(i.data=r[0]),e.$set(i);const f={};n&1&&(f.data=r[0]),l.$set(f)},i(r){s||(ie(e.$$.fragment,r),ie(l.$$.fragment,r),s=!0)},o(r){oe(e.$$.fragment,r),oe(l.$$.fragment,r),s=!1},d(r){r&&c(t),ve(e,r),ve(l,r)}}}function Bt(a){let e,t,l,s;return e=new Ae({props:{data:a[0]}}),l=new Le({props:{data:a[0]}}),{c(){de(e.$$.fragment),t=y(),de(l.$$.fragment)},l(r){_e(e.$$.fragment,r),t=E(r),_e(l.$$.fragment,r)},m(r,n){he(e,r,n),j(r,t,n),he(l,r,n),s=!0},p(r,n){const i={};n&1&&(i.data=r[0]),e.$set(i);const f={};n&1&&(f.data=r[0]),l.$set(f)},i(r){s||(ie(e.$$.fragment,r),ie(l.$$.fragment,r),s=!0)},o(r){oe(e.$$.fragment,r),oe(l.$$.fragment,r),s=!1},d(r){r&&c(t),ve(e,r),ve(l,r)}}}function Nt(a){let e,t,l,s,r,n,i,f,h,b;We(a[2]),t=new nt({props:{data:a[0]}});const V=[Bt,Tt],k=[];function w(m,p){return m[1]>750?0:1}return s=w(a),r=k[s]=V[s](a),i=new Ht({props:{data:a[0]}}),{c(){e=u("div"),de(t.$$.fragment),l=y(),r.c(),n=y(),de(i.$$.fragment),this.h()},l(m){e=d(m,"DIV",{class:!0});var p=v(e);_e(t.$$.fragment,p),l=E(p),r.l(p),n=E(p),_e(i.$$.fragment,p),p.forEach(c),this.h()},h(){_(e,"class","layout svelte-6cvig1")},m(m,p){j(m,e,p),he(t,e,null),o(e,l),k[s].m(e,null),o(e,n),he(i,e,null),f=!0,h||(b=Ve(window,"resize",a[2]),h=!0)},p(m,[p]){const g={};p&1&&(g.data=m[0]),t.$set(g);let I=s;s=w(m),s===I?k[s].p(m,p):(Ze(),oe(k[I],1,1,()=>{k[I]=null}),Fe(),r=k[s],r?r.p(m,p):(r=k[s]=V[s](m),r.c()),ie(r,1),r.m(e,n));const P={};p&1&&(P.data=m[0]),i.$set(P)},i(m){f||(ie(t.$$.fragment,m),ie(r),ie(i.$$.fragment,m),f=!0)},o(m){oe(t.$$.fragment,m),oe(r),oe(i.$$.fragment,m),f=!1},d(m){m&&c(e),ve(t),k[s].d(),ve(i),h=!1,b()}}}function Ut(a,e,t){let l,s="";for(let i=0;i<7;i++){const f=new Date;f.setHours(0,0,0,0),f.setDate(f.getDate()-(6-i));const h=f.getTime();f.setDate(f.getDate()+1);const b=f.getTime();s+=`
            day${i+1}: objektsConnection(orderBy: id_ASC, where: {minted_gte: "${h}", minted_lte: "${b}"}) {
                totalCount
            }
        `}fetch(ne.URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:`
                query {
                    squidStatus {
                        height
                    }
                    transfersConnection(orderBy: id_DESC, first: 5, where: {from_not_eq: "${Ce}", to_not_eq: "${Ce}"}) {
                        edges {
                            node {
                                ${Object.keys(ne.Transfer).join(`
`)}
                                objekt {
                                    ${Object.keys(ne.Objekt).join(`
`)}
                                    collection {
                                        ${Object.keys(ne.Collection).join(`
`)}
                                    }
                                }
                            }
                        }
                    }
                    mints: objektsConnection(orderBy: minted_DESC, where: {collection_isNull: false}, first: 10) {
                        edges {
                            node {
                                ${Object.keys(ne.Objekt).join(`
`)}
                                collection {
                                    ${Object.keys(ne.Collection).join(`
`)}
                                }
                            }
                        }
                    }
                    ${s}
                }
            `})}).then(async i=>{t(0,l=await i.json())});let r;function n(){t(1,r=window.innerWidth)}return[l,r,n]}class Kt extends be{constructor(e){super(),ge(this,e,Ut,Nt,me,{})}}export{Kt as component};
